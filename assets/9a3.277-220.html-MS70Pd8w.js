import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as s,o as p,c as i,b as a,e as n,d as t,w as c,f as d}from"./app-RvkmO4dA.js";const r={},u=a("h1",{id:"_9a3-升迁2-7-7-220手册",tabindex:"-1"},[a("a",{class:"header-anchor",href:"#_9a3-升迁2-7-7-220手册"},[a("span",null,"9A3.升迁2.7.7.220手册")])],-1),g=a("p",null,"build版升级到220，此版为3.0的过渡版，不宜久留。",-1),k=a("code",null,"2.7",-1),m=a("code",null,"2.6",-1),h={href:"https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes",target:"_blank",rel:"noopener noreferrer"},v=a("li",null,"移除javax到jakarta的persistence和validation干扰",-1),_=a("li",null,"faceless-jooqgen更名为faceless-codegen",-1),b=a("li",null,[a("code",null,"wings.tiny.*.enabled."),n("属性，补写"),a("code",null,"spring."),n("前缀")],-1),f=a("li",null,"cache2k取代caffeine, cache.nulls变为null-live及null-size",-1),x=d(`<h2 id="_9a3-1-修改pom-xml" tabindex="-1"><a class="header-anchor" href="#_9a3-1-修改pom-xml"><span>9A3.1.修改pom.xml</span></a></h2><p>version变为<code>2.7.7.220-SNAPSHOT</code></p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>parent</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>pro.fessional<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>wings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.7.220-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>parent</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9a3-2-重做autogen" tabindex="-1"><a class="header-anchor" href="#_9a3-2-重做autogen"><span>9A3.2.重做Autogen</span></a></h2><p>wings中的JooqGen默认配置了javax的注解persistence和validation， 实际除了增加代码的标识性，并无任何作用，但却卷入了javax更名jakarta的革命中。</p><p>全部自动生成的代码在各自的<code>java-gen</code>工程中， 由devs-mvndep模块中的<code>AutogenDependencyTest</code>完成。</p><h3 id="test00dropallandinit" tabindex="-1"><a class="header-anchor" href="#test00dropallandinit"><span>test00DropAllAndInit()</span></a></h3><p>初始化数据库，为后续代码生成准备数据。</p><h3 id="test01alltestcode" tabindex="-1"><a class="header-anchor" href="#test01alltestcode"><span>test01AllTestCode()</span></a></h3><p>Jooq自身的测试及举例，包括以下内容</p><ul><li>test11FacelessJooqTest - faceless-jooq</li><li>test11FacelessShardTest - faceless-shard</li></ul><h3 id="test01allmaincode" tabindex="-1"><a class="header-anchor" href="#test01allmaincode"><span>test01AllMainCode()</span></a></h3><p>Jooq业务表的正式依赖，随主工程一起打包，包括以下内容</p><ul><li>test10FacelessAutogen - faceless/enums</li><li>test20WarlockAutogenEnum - warlock/enums</li><li>test20WarlockAutogenAuth - warlock/security</li><li>test21WarlockAutogenJooq - warlock/database</li><li>test31TinyMailAutogenJooq - tiny/mail</li><li>test31TinyTaskAutogenJooq - tiny/task</li></ul><h2 id="_9a3-3-wingsboot使用者" tabindex="-1"><a class="header-anchor" href="#_9a3-3-wingsboot使用者"><span>9A3.3.Wingsboot使用者</span></a></h2><p>操作前，commit工作区，切到一个新的分支，这样可以控制时间线和穿越。</p><p>重点一定要重新生成jooq代码，设置中关闭了javax到jakarta名词空间变更的干扰</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>jpaAnnotations</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>jpaAnnotations</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>validationAnnotations</span><span class="token punctuation">&gt;</span></span>false<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>validationAnnotations</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>当发生jooq代码中出现依赖问题时，可临时增加一下依赖，重做成功后再删除。</p><div class="language-xml line-numbers-mode" data-ext="xml" data-title="xml"><pre class="language-xml"><code><span class="token comment">&lt;!-- javax.persistence --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.persistence<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.persistence-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- javax.validation.constraints --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>jakarta.validation<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jakarta.validation-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>若有<code>javax.annotation.Generated</code>找不到，则替换为 <code>javax.annotation.processing.Generated</code></li><li>如有<code>*Dao.java</code>被删除，日志<code>Skipping DAO generation</code>，需要为此表设置主键。</li></ul>`,21);function A(y,j){const e=s("ExternalLinkIcon"),o=s("RouteLink");return p(),i("div",null,[u,g,a("ul",null,[a("li",null,[n("boot以"),k,n("取代"),m,n("，"),a("a",h,[n("Release Notes"),t(e)])]),v,_,b,f,a("li",null,[n("检查"),t(o,{to:"/zh/9-example/9a.wings-change/9a0.notable.html"},{default:c(()=>[n("wings notable changelog")]),_:1})])]),x])}const I=l(r,[["render",A],["__file","9a3.277-220.html.vue"]]),q=JSON.parse('{"path":"/zh/9-example/9a.wings-change/9a3.277-220.html","title":"9A3.升迁2.7.7.220手册","lang":"zh-CN","frontmatter":{"isOriginal":true,"icon":"change","category":["实战","升迁"],"description":"9A3.升迁2.7.7.220手册 build版升级到220，此版为3.0的过渡版，不宜久留。 boot以2.7取代2.6，Release Notes 移除javax到jakarta的persistence和validation干扰 faceless-jooqgen更名为faceless-codegen wings.tiny.*.enabled.属性，...","GIT_REPO_HEAD":"2024-02-16 3fdd45de377187002fd49a06332fb14346c10eb1","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://wings.fessional.pro/9-example/9a.wings-change/9a3.277-220.html"}],["meta",{"property":"og:url","content":"https://wings.fessional.pro/zh/9-example/9a.wings-change/9a3.277-220.html"}],["meta",{"property":"og:site_name","content":"WingsBoot 纹丝不忒"}],["meta",{"property":"og:title","content":"9A3.升迁2.7.7.220手册"}],["meta",{"property":"og:description","content":"9A3.升迁2.7.7.220手册 build版升级到220，此版为3.0的过渡版，不宜久留。 boot以2.7取代2.6，Release Notes 移除javax到jakarta的persistence和validation干扰 faceless-jooqgen更名为faceless-codegen wings.tiny.*.enabled.属性，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-02-05T09:01:58.000Z"}],["meta",{"property":"article:author","content":"trydofor"}],["meta",{"property":"article:modified_time","content":"2024-02-05T09:01:58.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"9A3.升迁2.7.7.220手册\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-05T09:01:58.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"trydofor\\",\\"url\\":\\"https://www.trydofor.com\\"}]}"]]},"headers":[{"level":2,"title":"9A3.1.修改pom.xml","slug":"_9a3-1-修改pom-xml","link":"#_9a3-1-修改pom-xml","children":[]},{"level":2,"title":"9A3.2.重做Autogen","slug":"_9a3-2-重做autogen","link":"#_9a3-2-重做autogen","children":[{"level":3,"title":"test00DropAllAndInit()","slug":"test00dropallandinit","link":"#test00dropallandinit","children":[]},{"level":3,"title":"test01AllTestCode()","slug":"test01alltestcode","link":"#test01alltestcode","children":[]},{"level":3,"title":"test01AllMainCode()","slug":"test01allmaincode","link":"#test01allmaincode","children":[]}]},{"level":2,"title":"9A3.3.Wingsboot使用者","slug":"_9a3-3-wingsboot使用者","link":"#_9a3-3-wingsboot使用者","children":[]}],"git":{"createdTime":1687077446000,"updatedTime":1707123718000,"contributors":[{"name":"trydofor","email":"trydofor@gmail.com","commits":2}]},"readingTime":{"minutes":1.41,"words":422},"filePathRelative":"zh/9-example/9a.wings-change/9a3.277-220.md","localizedDate":"2023年6月18日","autoDesc":true}');export{I as comp,q as data};
