import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as a,c as s,f as n}from"./app.617bcbf8.js";const t={},o=n(`<h1 id="_5b-\u670D\u52A1\u6D88\u8D39\u8005" tabindex="-1"><a class="header-anchor" href="#_5b-\u670D\u52A1\u6D88\u8D39\u8005" aria-hidden="true">#</a> 5B.\u670D\u52A1\u6D88\u8D39\u8005</h1><p>\u4F18\u5148\u4F7F\u7528Rpc\u6D88\u8D39\u670D\u52A1\uFF0C\u4E5F\u53EF\u7528RestTemplate\u7B80\u5316\u8C03\u7528</p><h2 id="_5b-1-\u6D88\u8D39\u8005\u7EA6\u5B9A" tabindex="-1"><a class="header-anchor" href="#_5b-1-\u6D88\u8D39\u8005\u7EA6\u5B9A" aria-hidden="true">#</a> 5B.1.\u6D88\u8D39\u8005\u7EA6\u5B9A</h2><ul><li>\u4EE4<code>microserviceName</code>\u4E3A<code>\${servicecomb.service.name}</code></li><li>\u4EE4<code>path</code>\u4E3AMapping\u7684\u5168\u8DEF\u5F84\uFF0C\u5982<code>/full/path/</code></li><li>Rpc\u4EE5<code>SchemaId</code>\u548C\u63A5\u53E3\u5B9A\u4F4D\u670D\u52A1</li><li>Mvc\u4EE5rest\u98CE\u683C\u7684url\u5B9A\u4F4D <code>cse://microserviceName/path?querystring</code></li><li>\u63A5\u53E3\u53EF\u6253\u5305\u6210lib\u5171\u4EAB\uFF0C\u4E5F\u53EF\u81EA\u5DF1\u5B9A\u4E49\uFF0C\u53EA\u8981\u65B9\u6CD5\u7B7E\u540D\u4E00\u81F4\u5373\u53EF</li><li><code>@RpcReference</code>\u63A8\u8350setter\u6CE8\u5165(2.8.0)\uFF0C\u53EF\u7528<code>Invoker.createProxy</code></li></ul><h2 id="_5b-2-\u6D88\u8D39\u65B9\u5F0F\u8F6C\u6362" tabindex="-1"><a class="header-anchor" href="#_5b-2-\u6D88\u8D39\u65B9\u5F0F\u8F6C\u6362" aria-hidden="true">#</a> 5B.2.\u6D88\u8D39\u65B9\u5F0F\u8F6C\u6362</h2><p>\u4EE5\u8C03\u7528winx-api\u7684sayHello\u4E3A\u4F8B\uFF0C\u5176\u914D\u7F6E\u5982\u4E0B\uFF0C</p><ul><li><code>servicecomb.service.name</code>=<code>winx-api</code></li><li><code>schemaId</code>\u4E3A<code>@RestSchema(schemaId = &quot;winx-hello&quot;)</code></li><li>base path\u4E3A<code>@RequestMapping(path = &quot;/&quot;)</code></li><li>path\u4E3A<code>@RequestMapping(path = &quot;/winx-hello/say-hello&quot;)</code></li></ul><p>\u5176\u81EA\u52A8\u751F\u6210\u7684swagger\u6458\u8981\u4FE1\u606F\u5982\u4E0B</p><div class="language-yaml ext-yml line-numbers-mode"><pre class="language-yaml"><code><span class="token key atrule">basePath</span><span class="token punctuation">:</span> <span class="token string">&quot;/&quot;</span>
<span class="token key atrule">schemes</span><span class="token punctuation">:</span>
<span class="token punctuation">-</span> <span class="token string">&quot;http&quot;</span>
<span class="token key atrule">paths</span><span class="token punctuation">:</span>
  <span class="token key atrule">/winx-hello/say-hello</span><span class="token punctuation">:</span>
    <span class="token key atrule">get</span><span class="token punctuation">:</span>
      <span class="token key atrule">operationId</span><span class="token punctuation">:</span> <span class="token string">&quot;sayHello&quot;</span>
      <span class="token key atrule">produces</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token string">&quot;text/plain&quot;</span>
      <span class="token key atrule">parameters</span><span class="token punctuation">:</span>
      <span class="token punctuation">-</span> <span class="token key atrule">name</span><span class="token punctuation">:</span> <span class="token string">&quot;name&quot;</span>
        <span class="token key atrule">in</span><span class="token punctuation">:</span> <span class="token string">&quot;query&quot;</span>
        <span class="token key atrule">required</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
        <span class="token key atrule">type</span><span class="token punctuation">:</span> <span class="token string">&quot;string&quot;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u4EE5\u4E0B\u7684\u8C03\u7528\u65B9\u5F0F\u90FD\u53EF\u4EE5\u8BBF\u95EE\u6B64\u670D\u52A1\uFF0C</p><ul><li><code>@RpcReference(microserviceName = &quot;winx-api&quot;, schemaId = &quot;winx-hello&quot;)</code></li><li>restTemplate <code>cse://winx-api/winx-hello/say-hello?name=bbb</code></li><li>\u6709\u9A8C\u8BC1 <code>http://localhost:8095/servcomber/winx-hello/say-hello?name=null</code></li><li>\u65E0\u9A8C\u8BC1 <code>http://localhost:8085/servcomber/batrider-hello/say-hello?name=undefined</code></li></ul><p>\u901A\u8FC7\u89C2\u5BDF<code>OperationLocator</code>\u53EF\u4EE5\u786E\u8BA4\uFF0C\u4ED6\u4EEC\u7684\u533A\u522B\u5982\u4E0B\uFF0C</p><ul><li>Rpc\u6839\u636EmicroserviceName\u548CschemaId\u4EE5\u53CA\u65B9\u6CD5operationId\u5B9A\u4F4D</li><li>restTemplate\u901A\u8FC7microserviceName\u548Cpath\u5B9A\u4F4D</li><li>broswer http \u901A\u8FC7endpoint\u7684ip\u7AEF\u53E3\uFF0Crest\u524D\u7F00\u548Cpath\u5B9A\u4F4D</li><li>path\u4E3A<code>basePath</code>+<code>paths</code>\uFF0CbasePath\u9ED8\u8BA4\u4E3A<code>/</code></li></ul>`,13),l=[o];function c(i,p){return a(),s("div",null,l)}const u=e(t,[["render",c],["__file","5b-consumer.html.vue"]]);export{u as default};
