import{_ as e}from"./plugin-vue_export-helper-c27b6911.js";import{o as a,c as i,f as d}from"./app-bf064653.js";const n={},r=d('<h1 id="_9a5-升迁3-0-x-30x手册" tabindex="-1"><a class="header-anchor" href="#_9a5-升迁3-0-x-30x手册" aria-hidden="true">#</a> 9A5.升迁3.0.x.30x手册</h1><p>升级到<code>3.0.0-300</code>后，从<code>3.0.6</code>开始的升级手册，包括，</p><ul><li>3.0.6.300 EarthShaker</li><li>3.0.7.300 ElderTitan</li></ul><h2 id="_3-0-6-300-earthshaker" tabindex="-1"><a class="header-anchor" href="#_3-0-6-300-earthshaker" aria-hidden="true">#</a> 3.0.6.300 EarthShaker</h2><p>version变为<code>3.0.6.300-SNAPSHOT</code></p><h3 id="移动jaxb工具类位置" tabindex="-1"><a class="header-anchor" href="#移动jaxb工具类位置" aria-hidden="true">#</a> 移动jaxb工具类位置</h3><p>在Java11及javax名词空间的影响下，jaxb从mirana移动到silencer-jaxb工程。</p><ul><li>mirana版本升级为2.4.5</li><li>包名从<code>pro.fessional.mirana.jaxb</code>变为<code>pro.fessional.wings.silencer.jaxb</code></li></ul><h3 id="更名xxxassert为assertxxx" tabindex="-1"><a class="header-anchor" href="#更名xxxassert为assertxxx" aria-hidden="true">#</a> 更名XxxAssert为AssertXxx</h3><p>考虑功能前缀更适合IDE的智能提示，以下Assert工具类更名。</p><ul><li>更名 ArgsAssert 为 AssertArgs</li><li>更名 StateAssert 为 AssertState</li><li>新增AssertMessage</li></ul><h3 id="defaultexceptionresolver处理codeexception" tabindex="-1"><a class="header-anchor" href="#defaultexceptionresolver处理codeexception" aria-hidden="true">#</a> DefaultExceptionResolver处理CodeException</h3><p>移除CodeExceptionResolver，交由DefaultExceptionResolver处理。</p><h3 id="属性名或其默认值变更" tabindex="-1"><a class="header-anchor" href="#属性名或其默认值变更" aria-hidden="true">#</a> 属性名或其默认值变更</h3><ul><li><code>spring.wings.warlock.enabled.controller-debug</code> to <code>.controller-tweak</code></li><li><code>wings.warlock.apiauth.error-client.message-body</code> to <code>.response-body</code></li><li><code>wings.warlock.apiauth.error-signature.message-body</code> to <code>.response-body</code></li><li><code>wings.warlock.apiauth.error-unhandled.message-body</code> to <code>.response-body</code></li></ul><h2 id="_3-0-7-300-eldertitan" tabindex="-1"><a class="header-anchor" href="#_3-0-7-300-eldertitan" aria-hidden="true">#</a> 3.0.7.300 ElderTitan</h2><p>version变为<code>3.0.7.300-SNAPSHOT</code></p><h3 id="wingstablecudhandler变更" tabindex="-1"><a class="header-anchor" href="#wingstablecudhandler变更" aria-hidden="true">#</a> WingsTableCudHandler变更</h3><p>支持Auto和Manual触发，当有Auto时，Manual可被忽略，避免重复触发消息。</p><h3 id="属性名或其默认值变更-1" tabindex="-1"><a class="header-anchor" href="#属性名或其默认值变更-1" aria-hidden="true">#</a> 属性名或其默认值变更</h3><ul><li><code>wings.faceless.jooq.cud.table</code><ul><li><code>win_perm_entry=</code></li><li><code>win_role_entry=</code></li><li><code>win_conf_runtime=key,current,handler</code></li><li>移除 <code>win_user_authn</code>, <code>win_user_basis</code></li></ul></li><li><code>wings.faceless.jooq.cud.insert</code> to <code>.create</code></li><li><code>wings.faceless.lightid.loader</code> to <code>.provider</code></li></ul><h2 id="_3-0-9-300-ancientapparition" tabindex="-1"><a class="header-anchor" href="#_3-0-9-300-ancientapparition" aria-hidden="true">#</a> 3.0.9.300 AncientApparition</h2><p>version变为<code>3.0.9.300-SNAPSHOT</code></p><h3 id="表及字段的英文注释" tabindex="-1"><a class="header-anchor" href="#表及字段的英文注释" aria-hidden="true">#</a> 表及字段的英文注释</h3><p>以<code>sys_standard_i18n</code>为例，它的新的DDL为</p><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>CREATE TABLE `sys_standard_i18n` (\n    `base` VARCHAR(100)  NOT NULL COMMENT &#39;table or package name&#39;,\n    `kind` VARCHAR(100)  NOT NULL COMMENT &#39;column or class name&#39;,\n    `ukey` VARCHAR(200)  NOT NULL COMMENT &#39;[id.###|type.code|enum]&#39;,\n    `lang` CHAR(5)       NOT NULL COMMENT &#39;lang tag:zh_CN&#39;,\n    `hint` VARCHAR(3000) NOT NULL COMMENT &#39;display:Asia/Shanghai&#39;,\n    PRIMARY KEY (`base`, `kind`, `ukey`, `lang`)\n) ENGINE = InnoDB\n  DEFAULT CHARSET = utf8mb4 COMMENT =&#39;106/I18n Message&#39;;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用列编辑，把语句从<code>CREATE</code>变为<code>ALTER</code>，方法和结果如下，</p><ul><li>表 <code>CREATE</code> 变为 <code>ALTER</code>，移除 <code>COMMENT</code> 前的其他语句。</li><li>字段，在前面插入<code>MODIFY COLUMN</code></li></ul><div class="language-mysql line-numbers-mode" data-ext="mysql"><pre class="language-mysql"><code>ALTER TABLE `sys_standard_i18n` \nMODIFY COLUMN `base` VARCHAR(100)  NOT NULL COMMENT &#39;table or package name&#39;,\nMODIFY COLUMN `kind` VARCHAR(100)  NOT NULL COMMENT &#39;column or class name&#39;,\nMODIFY COLUMN `ukey` VARCHAR(200)  NOT NULL COMMENT &#39;[id.###|type.code|enum]&#39;,\nMODIFY COLUMN `lang` CHAR(5)       NOT NULL COMMENT &#39;lang tag:zh_CN&#39;,\nMODIFY COLUMN `hint` VARCHAR(3000) NOT NULL COMMENT &#39;display:Asia/Shanghai&#39;,\nCOMMENT =&#39;106/I18n Message&#39;;\n</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="常量及生成代码中的英文" tabindex="-1"><a class="header-anchor" href="#常量及生成代码中的英文" aria-hidden="true">#</a> 常量及生成代码中的英文</h3><ul><li>StandardLanguage</li><li>StandardTimezone</li><li>AuthnErrorEnum</li><li>CommonErrorEnum</li><li>GrantType</li><li>UserGender</li><li>UserStatus</li></ul>',31),l=[r];function s(o,c){return a(),i("div",null,l)}const u=e(n,[["render",s],["__file","9a5.30x-30x.html.vue"]]);export{u as default};
