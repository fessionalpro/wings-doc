import{_ as s}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as d,o as c,c as l,b as e,e as a,d as o,w as t,f as i}from"./app-GuRyqIDd.js";const p={},h=i('<h1 id="_3i-大鱼的属性" tabindex="-1"><a class="header-anchor" href="#_3i-大鱼的属性" aria-hidden="true">#</a> 3I.大鱼的属性</h1><p>有关Slardar，Spring的基本设置</p><h2 id="_3i-1-wings-enabled-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-1-wings-enabled-79-properties" aria-hidden="true">#</a> 3I.1.wings-enabled-79.properties</h2><h3 id="wings-enabled-slardar-double-kill" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-double-kill" aria-hidden="true">#</a> wings.enabled.slardar.double-kill</h3><p><code>Boolean</code>=<code>true</code>，是否开启DoubleKill默认的AOP</p><h3 id="wings-enabled-slardar-monitor-jvm" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-monitor-jvm" aria-hidden="true">#</a> wings.enabled.slardar.monitor-jvm</h3><p><code>Boolean</code>=<code>true</code>，是否开启Jvm监控</p><h3 id="wings-enabled-slardar-monitor-log" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-monitor-log" aria-hidden="true">#</a> wings.enabled.slardar.monitor-log</h3><p><code>Boolean</code>=<code>true</code>，是否开启Log监控</p><h3 id="wings-enabled-slardar-hazelcast-standalone" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-hazelcast-standalone" aria-hidden="true">#</a> wings.enabled.slardar.hazelcast-standalone</h3>',10),u=e("code",null,"Boolean",-1),g=e("code",null,"false",-1),m={href:"https://github.com/hazelcast/hazelcast-simulator/blob/master/README.md",target:"_blank",rel:"noopener noreferrer"},b=i('<h3 id="wings-enabled-slardar-cookie" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-cookie" aria-hidden="true">#</a> wings.enabled.slardar.cookie</h3><p><code>Boolean</code>=<code>false</code>，是否实现cookie定制</p><h3 id="wings-enabled-slardar-debounce" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-debounce" aria-hidden="true">#</a> wings.enabled.slardar.debounce</h3><p><code>Boolean</code>=<code>true</code>，是否开启Debounce默认的Interceptor</p><h3 id="wings-enabled-slardar-domainx" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-domainx" aria-hidden="true">#</a> wings.enabled.slardar.domainx</h3><p><code>Boolean</code>=<code>false</code>，是否支持 domain-extend</p><h3 id="wings-enabled-slardar-first-blood" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-first-blood" aria-hidden="true">#</a> wings.enabled.slardar.first-blood</h3><p><code>Boolean</code>=<code>false</code>，是否开启FirstBlood默认的Interceptor</p><h3 id="wings-enabled-slardar-first-blood-image" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-first-blood-image" aria-hidden="true">#</a> wings.enabled.slardar.first-blood-image</h3><p><code>Boolean</code>=<code>true</code>，是否开启FirstBlood的Interceptor图形验证码</p><h3 id="wings-enabled-slardar-jackson-datetime" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-jackson-datetime" aria-hidden="true">#</a> wings.enabled.slardar.jackson-datetime</h3><p><code>Boolean</code>=<code>true</code>，是否开启wings的 webmvc date/time 转换</p><h3 id="wings-enabled-slardar-jackson-empty" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-jackson-empty" aria-hidden="true">#</a> wings.enabled.slardar.jackson-empty</h3><p><code>Boolean</code>=<code>true</code>，是否开启wings的 webmvc empty 转换</p><h3 id="wings-enabled-slardar-jackson-number" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-jackson-number" aria-hidden="true">#</a> wings.enabled.slardar.jackson-number</h3><p><code>Boolean</code>=<code>true</code>，是否开启wings的jackson对Double，Float，BigDecimal的精度限定</p><h3 id="wings-enabled-slardar-jackson-resource" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-jackson-resource" aria-hidden="true">#</a> wings.enabled.slardar.jackson-resource</h3><p><code>Boolean</code>=<code>true</code>，是否开启wings的jackson对Resource序列化成可读性好的URL</p><h3 id="wings-enabled-slardar-jackson-result" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-jackson-result" aria-hidden="true">#</a> wings.enabled.slardar.jackson-result</h3><p><code>Boolean</code>=<code>true</code>，是否开启wings的 webmvc result 转换</p><h3 id="wings-enabled-slardar-pagequery" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-pagequery" aria-hidden="true">#</a> wings.enabled.slardar.pagequery</h3><p><code>Boolean</code>=<code>true</code>，是否开启wings的PageQuery webmvc resolver</p><h3 id="wings-enabled-slardar-restream" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-restream" aria-hidden="true">#</a> wings.enabled.slardar.restream</h3><p><code>Boolean</code>=<code>true</code>，是否开启reuse stream filter</p><h3 id="wings-enabled-slardar-righter" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-righter" aria-hidden="true">#</a> wings.enabled.slardar.righter</h3><p><code>Boolean</code>=<code>true</code>，是否防范编辑篡改</p><h3 id="wings-enabled-slardar-session" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-session" aria-hidden="true">#</a> wings.enabled.slardar.session</h3><p><code>Boolean</code>=<code>true</code>，是否默认配置session</p><h3 id="wings-enabled-slardar-swagger" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-swagger" aria-hidden="true">#</a> wings.enabled.slardar.swagger</h3><p><code>Boolean</code>=<code>true</code>，是否开启swagger配置</p><h3 id="wings-enabled-slardar-terminal" tabindex="-1"><a class="header-anchor" href="#wings-enabled-slardar-terminal" aria-hidden="true">#</a> wings.enabled.slardar.terminal</h3><p><code>Boolean</code>=<code>true</code>，是否支持WingsTerminalContext</p><h2 id="_3i-2-wings-prop-promotion-cnf" tabindex="-1"><a class="header-anchor" href="#_3i-2-wings-prop-promotion-cnf" aria-hidden="true">#</a> 3I.2.wings-prop-promotion.cnf</h2><ul><li><code>spring.session.timeout</code></li><li><code>wings.slardar.cache.common.max-live</code></li><li><code>wings.slardar.cache.common.max-idle</code></li><li><code>wings.slardar.cache.common.max-size</code></li><li><code>sentry.properties.file</code></li></ul><h2 id="_3i-3-spring-actuator-77-properties" tabindex="-1"><a class="header-anchor" href="#_3i-3-spring-actuator-77-properties" aria-hidden="true">#</a> 3I.3.spring-actuator-77.properties</h2>',35),w={href:"https://docs.spring.io/spring-boot/docs/3.0.3/reference/htmlsingle/#actuator.endpoints",target:"_blank",rel:"noopener noreferrer"},_=e("ul",null,[e("li",null,[e("code",null,"spring.jmx.enabled=true"),a(" 默认开启本地JMX，远程用ssh tunnel")]),e("li",null,[e("code",null,"management.endpoints.jmx.exposure.include=*")]),e("li",null,[e("code",null,"management.endpoints.web.exposure.include=*")])],-1),f={href:"https://docs.spring.io/spring-boot/docs/3.0.3/reference/htmlsingle/#appendix.application-properties.actuator",target:"_blank",rel:"noopener noreferrer"},k=i('<ul><li><code>management.endpoint.health.show-details</code>=<code>always</code></li><li><code>management.info.git.mode</code>=<code>full</code></li><li><code>management.info.java.enabled</code>=<code>true</code></li><li><code>management.metrics.tags.application</code>=<code>${spring.application.name:wings-default}</code></li></ul><p>wings有关的endpoint</p><ul><li><code>management.endpoint.flyway.enabled</code>=<code>false</code></li><li><code>management.endpoint.wingscache.enabled</code>=<code>true</code></li></ul><h2 id="_3i-4-spring-jackson-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-4-spring-jackson-79-properties" aria-hidden="true">#</a> 3I.4.spring-jackson-79.properties</h2>',4),x={href:"https://docs.spring.io/spring-boot/docs/3.0.3/reference/htmlsingle/#howto.spring-mvc.customize-jackson-objectmapper",target:"_blank",rel:"noopener noreferrer"},v=i('<p>com.fasterxml.jackson.databind.DeserializationFeature</p><ul><li><code>spring.jackson.deserialization.FAIL_ON_UNKNOWN_PROPERTIES</code>=<code>false</code></li><li><code>spring.jackson.deserialization.FAIL_ON_NUMBERS_FOR_ENUMS</code>=<code>true</code></li><li><code>spring.jackson.deserialization.FAIL_ON_MISSING_CREATOR_PROPERTIES</code>=<code>true</code></li><li><code>spring.jackson.deserialization.ACCEPT_SINGLE_VALUE_AS_ARRAY</code>=<code>true</code></li><li><code>spring.jackson.deserialization.READ_UNKNOWN_ENUM_VALUES_USING_DEFAULT_VALUE</code>=<code>true</code></li></ul><p>com.fasterxml.jackson.core.JsonGenerator.Feature</p><ul><li><code>spring.jackson.generator.WRITE_NUMBERS_AS_STRINGS</code>=<code>true</code></li></ul><p>com.fasterxml.jackson.databind.MapperFeature`</p><ul><li><code>spring.jackson.mapper.PROPAGATE_TRANSIENT_MARKER</code>=<code>true</code></li><li><code>spring.jackson.mapper.DEFAULT_VIEW_INCLUSION</code>=<code>true</code></li><li><code>spring.jackson.mapper.ACCEPT_CASE_INSENSITIVE_PROPERTIES</code>=<code>true</code></li><li><code>spring.jackson.mapper.ALLOW_EXPLICIT_PROPERTY_RENAMING</code>=<code>true</code></li></ul><p>com.fasterxml.jackson.core.JsonParser.Feature</p><ul><li><code>spring.jackson.parser.ALLOW_COMMENTS</code>=<code>true</code></li><li><code>spring.jackson.parser.ALLOW_YAML_COMMENTS</code>=<code>true</code></li><li><code>spring.jackson.parser.ALLOW_UNQUOTED_FIELD_NAMES</code>=<code>true</code></li><li><code>spring.jackson.parser.ALLOW_SINGLE_QUOTES</code>=<code>true</code></li><li><code>spring.jackson.parser.ALLOW_BACKSLASH_ESCAPING_ANY_CHARACTER</code>=<code>false</code></li><li><code>spring.jackson.parser.ALLOW_NUMERIC_LEADING_ZEROS</code>=<code>true</code></li><li><code>spring.jackson.parser.ALLOW_MISSING_VALUES</code>=<code>true</code></li><li><code>spring.jackson.parser.ALLOW_TRAILING_COMMA</code>=<code>true</code></li></ul><p>com.fasterxml.jackson.databind.SerializationFeature</p><ul><li><code>spring.jackson.serialization.WRITE_DATES_AS_TIMESTAMPS</code>=<code>false</code>默认true</li><li><code>spring.jackson.serialization.CLOSE_CLOSEABLE</code>=<code>true</code></li></ul><p>com.fasterxml.jackson.annotation.JsonInclude.Include</p><ul><li><code>spring.jackson.default-property-inclusion</code>=<code>non_null</code></li></ul><h2 id="_3i-5-spring-servlet-server-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-5-spring-servlet-server-79-properties" aria-hidden="true">#</a> 3I.5.spring-servlet-server-79.properties</h2>',13),E={href:"https://docs.spring.io/spring-boot/docs/3.0.3/reference/htmlsingle/#appendix.application-properties",target:"_blank",rel:"noopener noreferrer"},j=i(`<p>graceful shutdown</p><ul><li><code>server.shutdown</code>=<code>graceful</code></li><li><code>spring.lifecycle.timeout-per-shutdown-phase</code>=<code>30s</code></li></ul><p>servlet 上传文件，大小没有限制</p><ul><li><code>spring.servlet.multipart.max-file-size</code>=<code>-1</code></li><li><code>spring.servlet.multipart.max-request-size</code>=<code>-1</code></li></ul><p>默认tomcat设置，按8核3Ghz，30ms应答实测，undertow较优。</p><ul><li><code>server.tomcat.max-connections</code>=<code>10000</code></li><li><code>server.tomcat.threads.max</code>=<code>1000</code></li></ul><p>Undertow设置，参考io.undertow.Undertow.java#L429</p><ul><li><code>server.undertow.threads.io=</code> - Processor count</li><li><code>server.undertow.threads.worker=</code> - io-threads * 8</li><li><code>server.undertow.direct-buffers</code>=<code>true</code></li></ul><p>缓存区设置，4k, 8k for most request</p><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>tcp_mem: low, pressure, high
net.ipv4.tcp_wmem = 4096 87380 4161536
net.ipv4.tcp_rmem = 4096 87380 4161536
net.ipv4.tcp_mem = 786432 2097152 3145728
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>server.undertow.buffer-size</code>=<code>8192</code></li><li><code>server.undertow.max-headers</code>=<code>4096</code></li><li><code>server.undertow.max-parameters</code>=<code>4096</code></li></ul><h2 id="_3i-6-spring-session-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-6-spring-session-79-properties" aria-hidden="true">#</a> 3I.6.spring-session-79.properties</h2>`,12),A={href:"https://docs.spring.io/spring-boot/docs/3.0.3/reference/htmlsingle/#web.spring-session",target:"_blank",rel:"noopener noreferrer"},S=e("h3",{id:"spring-session-timeout",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#spring-session-timeout","aria-hidden":"true"},"#"),a(" spring.session.timeout")],-1),I=e("p",null,[e("code",null,"Long"),a("=2592000，单位默认秒，默认30天")],-1),y=i('<h3 id="其他默认配置" tabindex="-1"><a class="header-anchor" href="#其他默认配置" aria-hidden="true">#</a> 其他默认配置</h3><ul><li><code>spring.session.store-type</code>=<code>none</code></li><li><code>server.servlet.session.timeout</code>=<code>${spring.session.timeout}</code></li><li><code>spring.session.hazelcast.flush-mode</code>=<code>on-save</code></li><li><code>spring.session.hazelcast.map-name</code>=<code>spring:session:sessions</code></li><li><code>spring.session.hazelcast.save-mode</code>=<code>on-set-attribute</code></li></ul><h3 id="header和cookie设置" tabindex="-1"><a class="header-anchor" href="#header和cookie设置" aria-hidden="true">#</a> Header和Cookie设置</h3><blockquote><p>SessionAutoConfiguration, header is case-insensitive, but cookie is not</p></blockquote><p>name（建议全小写）在cookie和header中都会使用，为WingsSessionIdResolver提供key。</p><ul><li><code>server.servlet.session.cookie.name</code>=<code>session</code></li><li><code>server.servlet.session.cookie.max-age</code>=<code>${spring.session.timeout}</code></li></ul><h2 id="_3i-7-spring-springdoc-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-7-spring-springdoc-79-properties" aria-hidden="true">#</a> 3I.7.spring-springdoc-79.properties</h2>',7),L={id:"springdoc设置",tabindex:"-1"},N=e("a",{class:"header-anchor",href:"#springdoc设置","aria-hidden":"true"},"#",-1),R={href:"https://springdoc.org/#properties",target:"_blank",rel:"noopener noreferrer"},B=i('<ul><li><code>springdoc.api-docs.enabled</code>=<code>true</code></li><li><code>springdoc.swagger-ui.enabled</code>=<code>true</code></li><li><code>springdoc.show-actuator</code>=<code>false</code></li><li><code>springdoc.writer-with-default-pretty-printer</code>=<code>true</code></li><li><code>springdoc.use-fqn</code>=<code>true</code></li></ul><h3 id="swagger设置" tabindex="-1"><a class="header-anchor" href="#swagger设置" aria-hidden="true">#</a> Swagger设置</h3><ul><li><code>springdoc.swagger-ui.path</code>=<code>/swagger-ui.html</code></li><li><code>springdoc.swagger-ui.filter</code>=<code>true</code></li><li><code>springdoc.swagger-ui.operations-sorter</code>=<code>alpha</code></li><li><code>springdoc.swagger-ui.tags-sorter</code>=<code>alpha</code></li></ul><h2 id="_3i-8-spring-task-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-8-spring-task-79-properties" aria-hidden="true">#</a> 3I.8.spring-task-79.properties</h2>',4),z={href:"https://docs.spring.io/spring-boot/docs/3.0.3/reference/htmlsingle/#features.task-execution-and-scheduling",target:"_blank",rel:"noopener noreferrer"},O=i('<h3 id="execution的线程池设置" tabindex="-1"><a class="header-anchor" href="#execution的线程池设置" aria-hidden="true">#</a> execution的线程池设置</h3><p>与 @EnableAsync @Async 有关</p><ul><li><code>spring.task.execution.pool.core-size</code>=<code>8</code></li><li><code>spring.task.execution.pool.keep-alive</code>=<code>60s</code></li><li><code>spring.task.execution.pool.max-size</code>=<code>64</code></li><li><code>spring.task.execution.pool.queue-capacity</code>=<code>4096</code></li><li><code>spring.task.execution.shutdown.await-termination</code>=<code>true</code></li><li><code>spring.task.execution.shutdown.await-termination-period</code>=<code>30s</code></li><li><code>spring.task.execution.thread-name-prefix</code>=<code>win-async-</code></li></ul><h3 id="scheduling的线程池设置" tabindex="-1"><a class="header-anchor" href="#scheduling的线程池设置" aria-hidden="true">#</a> scheduling的线程池设置</h3><p>与 @EnableScheduling @Scheduled threadPoolTaskScheduler 有关。 不可以设置@Primary，否则@Async线程池被覆盖。</p><ul><li><code>spring.task.scheduling.pool.size</code>=<code>8</code></li><li><code>spring.task.scheduling.shutdown.await-termination</code>=<code>true</code></li><li><code>spring.task.scheduling.shutdown.await-termination-period</code>=<code>30s</code></li><li><code>spring.task.scheduling.thread-name-prefix</code>=<code>win-task-</code></li></ul><h2 id="_3i-9-wings-async-79-properties" tabindex="-1"><a class="header-anchor" href="#_3i-9-wings-async-79-properties" aria-hidden="true">#</a> 3I.9.wings-async-79.properties</h2><h3 id="event-事件总线线程池" tabindex="-1"><a class="header-anchor" href="#event-事件总线线程池" aria-hidden="true">#</a> event 事件总线线程池</h3><ul><li>wings.slardar.async.event.pool.core-size=8</li><li>wings.slardar.async.event.pool.keep-alive=60s</li><li>wings.slardar.async.event.pool.max-size=64</li><li>wings.slardar.async.event.pool.queue-capacity=2048</li><li>wings.slardar.async.event.shutdown.await-termination=true</li><li>wings.slardar.async.event.shutdown.await-termination-period=60s</li><li>wings.slardar.async.event.thread-name-prefix=win-event-</li></ul><h3 id="heavy-重任务线程池" tabindex="-1"><a class="header-anchor" href="#heavy-重任务线程池" aria-hidden="true">#</a> heavy 重任务线程池</h3><ul><li>wings.slardar.async.heavy.pool.size=8</li><li>wings.slardar.async.heavy.shutdown.await-termination=true</li><li>wings.slardar.async.heavy.shutdown.await-termination-period=60s</li><li>wings.slardar.async.heavy.thread-name-prefix=win-heavy-</li></ul>',11);function T(C,P){const r=d("ExternalLinkIcon"),n=d("Badge");return c(),l("div",null,[h,e("p",null,[u,a("="),g,a(", 在devtool时，以standalone方式启动，可减少集群影响。 高级测试，参考 "),e("a",m,[a("https://github.com/hazelcast/hazelcast-simulator/blob/master/README.md"),o(r)])]),b,e("p",null,[e("a",w,[a("Actuator Endpoints"),o(r)])]),_,e("p",null,[e("a",f,[a("Actuator Properties"),o(r)])]),k,e("p",null,[e("a",x,[a("SpringBoot自定义jackson"),o(r)])]),v,e("p",null,[e("a",E,[a("Common Application Properties"),o(r)])]),j,e("p",null,[e("a",A,[a("Spring Session"),o(r)])]),S,I,e("p",null,[o(n,{type:"info",vertical:"middle"},{default:t(()=>[a("必须")]),_:1}),a("使用单位秒(S)且数字，以供hazelcast session引用")]),y,e("h3",L,[N,a(),e("a",R,[a("SpringDoc设置"),o(r)])]),B,e("p",null,[e("a",z,[a("Task Execution and Scheduling"),o(r)])]),O])}const W=s(p,[["render",T],["__file","3i-prop-slardar.html.vue"]]);export{W as default};
