import{_ as t}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as n,c as l,b as i,d as s,f as h,w as p,e as a,o as d}from"./app-DjJWubZm.js";const o={},r=i("h1",{id:"_9a3-升迁2-7-7-220手册",tabindex:"-1"},[i("a",{class:"header-anchor",href:"#_9a3-升迁2-7-7-220手册"},[i("span",null,"9A3.升迁2.7.7.220手册")])],-1),k=i("p",null,"build版升级到220，此版为3.0的过渡版，不宜久留。",-1),c=a('<li>boot以<code>2.7</code>取代<code>2.6</code>，<a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes" target="_blank" rel="noopener noreferrer">Release Notes</a></li><li>移除javax到jakarta的persistence和validation干扰</li><li>faceless-jooqgen更名为faceless-codegen</li><li><code>wings.tiny.*.enabled.</code>属性，补写<code>spring.</code>前缀</li><li>cache2k取代caffeine, cache.nulls变为null-live及null-size</li>',5),g=a(`<h2 id="_9a3-1-修改pom-xml" tabindex="-1"><a class="header-anchor" href="#_9a3-1-修改pom-xml"><span>9A3.1.修改pom.xml</span></a></h2><p>version变为<code>2.7.7.220-SNAPSHOT</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;pro.fessional&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;wings&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;2.7.7.220-SNAPSHOT&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9a3-2-重做autogen" tabindex="-1"><a class="header-anchor" href="#_9a3-2-重做autogen"><span>9A3.2.重做Autogen</span></a></h2><p>wings中的JooqGen默认配置了javax的注解persistence和validation， 实际除了增加代码的标识性，并无任何作用，但却卷入了javax更名jakarta的革命中。</p><p>全部自动生成的代码在各自的<code>java-gen</code>工程中， 由devs-mvndep模块中的<code>AutogenDependencyTest</code>完成。</p><h3 id="_2a-test00dropallandinit" tabindex="-1"><a class="header-anchor" href="#_2a-test00dropallandinit"><span>2a.test00DropAllAndInit()</span></a></h3><p>初始化数据库，为后续代码生成准备数据。</p><h3 id="_2b-test01alltestcode" tabindex="-1"><a class="header-anchor" href="#_2b-test01alltestcode"><span>2b.test01AllTestCode()</span></a></h3><p>Jooq自身的测试及举例，包括以下内容</p><ul><li>test11FacelessJooqTest - faceless-jooq</li><li>test11FacelessShardTest - faceless-shard</li></ul><h3 id="_2c-test01allmaincode" tabindex="-1"><a class="header-anchor" href="#_2c-test01allmaincode"><span>2c.test01AllMainCode()</span></a></h3><p>Jooq业务表的正式依赖，随主工程一起打包，包括以下内容</p><ul><li>test10FacelessAutogen - faceless/enums</li><li>test20WarlockAutogenEnum - warlock/enums</li><li>test20WarlockAutogenAuth - warlock/security</li><li>test21WarlockAutogenJooq - warlock/database</li><li>test31TinyMailAutogenJooq - tiny/mail</li><li>test31TinyTaskAutogenJooq - tiny/task</li></ul><h2 id="_9a3-3-wingsboot使用者" tabindex="-1"><a class="header-anchor" href="#_9a3-3-wingsboot使用者"><span>9A3.3.Wingsboot使用者</span></a></h2><p>操作前，commit工作区，切到一个新的分支，这样可以控制时间线和穿越。</p><p>重点一定要重新生成jooq代码，设置中关闭了javax到jakarta名词空间变更的干扰</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jpaAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;false&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jpaAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">validationAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;false&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">validationAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>当发生jooq代码中出现依赖问题时，可临时增加一下依赖，重做成功后再删除。</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" data-title="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">&lt;!-- javax.persistence --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.persistence&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.persistence-api&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">&lt;!-- javax.validation.constraints --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.validation&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.validation-api&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>若有<code>javax.annotation.Generated</code>找不到，则替换为 <code>javax.annotation.processing.Generated</code></li><li>如有<code>*Dao.java</code>被删除，日志<code>Skipping DAO generation</code>，需要为此表设置主键。</li></ul>`,21);function A(B,m){const e=n("RouteLink");return d(),l("div",null,[r,k,i("ul",null,[c,i("li",null,[s("检查"),h(e,{to:"/zh/9-example/9a.wings-change/9a0.notable.html"},{default:p(()=>[s("wings notable changelog")]),_:1})])]),g])}const v=t(o,[["render",A],["__file","9a3.277-220.html.vue"]]),b=JSON.parse('{"path":"/zh/9-example/9a.wings-change/9a3.277-220.html","title":"9A3.升迁2.7.7.220手册","lang":"zh-CN","frontmatter":{"isOriginal":true,"icon":"circle-up","category":["实战","升迁"],"description":"9A3.升迁2.7.7.220手册 build版升级到220，此版为3.0的过渡版，不宜久留。 boot以2.7取代2.6，Release Notes 移除javax到jakarta的persistence和validation干扰 faceless-jooqgen更名为faceless-codegen wings.tiny.*.enabled.属性，...","GIT_REPO_HEAD":"2024-08-31 14ebccb0d5142c697c8e1c26714477f1e205282c","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://wings.fessional.pro/9-example/9a.wings-change/9a3.277-220.html"}],["meta",{"property":"og:url","content":"https://wings.fessional.pro/zh/9-example/9a.wings-change/9a3.277-220.html"}],["meta",{"property":"og:site_name","content":"WingsBoot 纹丝不忒"}],["meta",{"property":"og:title","content":"9A3.升迁2.7.7.220手册"}],["meta",{"property":"og:description","content":"9A3.升迁2.7.7.220手册 build版升级到220，此版为3.0的过渡版，不宜久留。 boot以2.7取代2.6，Release Notes 移除javax到jakarta的persistence和validation干扰 faceless-jooqgen更名为faceless-codegen wings.tiny.*.enabled.属性，..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-06-12T00:21:52.000Z"}],["meta",{"property":"article:author","content":"trydofor"}],["meta",{"property":"article:modified_time","content":"2024-06-12T00:21:52.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"9A3.升迁2.7.7.220手册\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-12T00:21:52.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"trydofor\\",\\"url\\":\\"https://www.trydofor.com\\"}]}"]]},"headers":[{"level":2,"title":"9A3.1.修改pom.xml","slug":"_9a3-1-修改pom-xml","link":"#_9a3-1-修改pom-xml","children":[]},{"level":2,"title":"9A3.2.重做Autogen","slug":"_9a3-2-重做autogen","link":"#_9a3-2-重做autogen","children":[{"level":3,"title":"2a.test00DropAllAndInit()","slug":"_2a-test00dropallandinit","link":"#_2a-test00dropallandinit","children":[]},{"level":3,"title":"2b.test01AllTestCode()","slug":"_2b-test01alltestcode","link":"#_2b-test01alltestcode","children":[]},{"level":3,"title":"2c.test01AllMainCode()","slug":"_2c-test01allmaincode","link":"#_2c-test01allmaincode","children":[]}]},{"level":2,"title":"9A3.3.Wingsboot使用者","slug":"_9a3-3-wingsboot使用者","link":"#_9a3-3-wingsboot使用者","children":[]}],"git":{"createdTime":1674094784000,"updatedTime":1718151712000,"contributors":[{"name":"trydofor","email":"trydofor@gmail.com","commits":4}]},"readingTime":{"minutes":1.41,"words":423},"filePathRelative":"zh/9-example/9a.wings-change/9a3.277-220.md","localizedDate":"2023年1月19日","autoDesc":true}');export{v as comp,b as data};
