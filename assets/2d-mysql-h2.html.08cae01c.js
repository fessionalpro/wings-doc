import{_ as t}from"./plugin-vue_export-helper.21dcd24c.js";import{r as i,o as l,c,a as n,b as e,e as s,d as o}from"./app.110ea5a8.js";const p={},r=n("h1",{id:"_2d-mysql\u4F53\u7CFB\u7684\u77E5\u8BC6",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2d-mysql\u4F53\u7CFB\u7684\u77E5\u8BC6","aria-hidden":"true"},"#"),s(" 2D.Mysql\u4F53\u7CFB\u7684\u77E5\u8BC6")],-1),d=s("mysql\u4F53\u7CFB\u6307mysql\u5206\u652F\u5982(Percona,MariaDB)\u6216\u517C\u5BB9mysql\u534F\u8BAE\u7684\u6570\u636E\u5E93\uFF0Cwings\u4F7F\u7528mysql-8.0.x\uFF085.7\u5DF2\u5145\u5206\u6D4B\u8BD5\uFF09\u3002 \u539F\u5219\u4E0ADB\u4E0D\u5E94\u8BE5\u5C01\u88C5\uFF08\u81EA\u5B9A\u4E49function\u6216procedure\uFF09\u4E1A\u52A1\u903B\u8F91\uFF0C\u4F46\u53EF\u4EE5\u4F7F\u7528db\u63D0\u4F9B\u7684\u529F\u80FD\uFF0C\u7B80\u5316\u5DE5\u4F5C\u5B9E\u73B0\u4E1A\u52A1\u76EE\u6807\u3002 "),u={href:"https://dev.mysql.com/doc/refman/8.0/en/",target:"_blank",rel:"noopener noreferrer"},k=s("mysql 8.0 \u5B98\u65B9\u6587\u6863"),m=n("h2",{id:"_2d-1-\u521B\u5EFAmysql-docker",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#_2d-1-\u521B\u5EFAmysql-docker","aria-hidden":"true"},"#"),s(" 2D.1.\u521B\u5EFAMysql Docker")],-1),v=s("wings\u9700\u8981mysqld\u4E2D\u4EE5\u4E0B\u91CD\u70B9\u8BBE\u7F6E\uFF0C\u5305\u62EC\u547D\u540D\u5C0F\u5199\uFF0C\u8BED\u97F3\u65F6\u533A\uFF0C\u7528\u6237\u6743\u9650\uFF0C"),h={href:"https://dev.mysql.com/doc/refman/8.0/en/fulltext-boolean.html",target:"_blank",rel:"noopener noreferrer"},b=s("\u5168\u6587\u68C0\u7D22\u7684\u5206\u8BCD"),_=s(" \u4EE5\u4E0B\u914D\u7F6E\u9002\u5E94\u4E8Emysql5.7, mysql8, native, cloud"),g=o(`<div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">sudo</span> <span class="token function">tee</span> /data/docker/mysql/conf/moilioncircle.cnf <span class="token operator">&lt;&lt;</span> <span class="token string">EOF
[mysqld]
max_allowed_packet          = 16777216
max_connections             = 1024
# table store lowercase compare case-sensitive
lower_case_table_names      = 1
# FULLTEXT indexes by MeCab parser and ngram parser
innodb_ft_min_token_size    = 2
ft_min_word_len             = 2
ngram_token_size            = 2
# default charset and timezone
character_set_server        = utf8mb4
default-time-zone           = +00:00
# binary log
log_bin_trust_function_creators = 1
binlog-format               = MIXED
# local
innodb_file_per_table       = 1
#skip_grant_tables
EOF</span>

<span class="token comment"># \u542F\u52A8docker</span>
<span class="token function">sudo</span> <span class="token function">docker</span> run -d <span class="token punctuation">\\</span>
 --name mysql <span class="token punctuation">\\</span>
 --restart<span class="token operator">=</span>unless-stopped <span class="token punctuation">\\</span>
 -e <span class="token assign-left variable">MYSQL_ALLOW_EMPTY_PASSWORD</span><span class="token operator">=</span>yes <span class="token punctuation">\\</span>
 -v /data/docker/mysql/conf:/etc/mysql/conf.d <span class="token punctuation">\\</span>
 -v /data/docker/mysql/data:/var/lib/mysql <span class="token punctuation">\\</span>
 -p <span class="token number">3306</span>:3306 <span class="token punctuation">\\</span>
mysql:8.0
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u53EF\u4EE5\u901A\u8FC7\u4EE5\u4E0Bsql\u521B\u5EFA\u9AD8\u6743\u9650\u7528\u6237\uFF0C\u5EFA\u8BAE\u4F7F\u7528wings-mysql-user.sh\u72EC\u7ACB\u6743\u9650\u7684\u7528\u6237</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> <span class="token string">&#39;trydofor&#39;</span><span class="token variable">@&#39;%&#39;</span> IDENTIFIED <span class="token keyword">BY</span> <span class="token string">&#39;moilioncircle&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">GRANT</span> <span class="token keyword">ALL</span> <span class="token keyword">ON</span> <span class="token operator">*</span><span class="token punctuation">.</span><span class="token operator">*</span>  <span class="token keyword">TO</span> <span class="token string">&#39;trydofor&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span> <span class="token comment">-- \u901A\u5E38\u5199\u6CD5</span>
<span class="token comment">-- GRANT ALL  ON \`%\`.*  TO &#39;trydofor&#39;@&#39;%&#39;; -- \u4E0A\u8FF0\u6709\u8BED\u6CD5\u9519\u8BEF\u65F6</span>
<span class="token keyword">SHOW</span> GRANTS <span class="token keyword">FOR</span> <span class="token string">&#39;trydofor&#39;</span><span class="token variable">@&#39;%&#39;</span><span class="token punctuation">;</span>
<span class="token comment">-- DROP USER &#39;trydofor&#39;@&#39;%&#39;;</span>
FLUSH <span class="token keyword">PRIVILEGES</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_2d-2-\u5199\u9AD8\u8D28\u91CF\u7684sql" tabindex="-1"><a class="header-anchor" href="#_2d-2-\u5199\u9AD8\u8D28\u91CF\u7684sql" aria-hidden="true">#</a> 2D.2.\u5199\u9AD8\u8D28\u91CF\u7684SQL</h2><p>wings\u4E2D\uFF0C\u6570\u636E\u5E93\u4EC5\u7528\u6301\u4E45\u5316\u529F\u80FD\uFF0C\u4F30\u5E94\u907F\u514DSQL\u542B\u6709\u8FD0\u7B97\u548C\u4E1A\u52A1\u903B\u8F91\u3002</p><ul><li>\u5FC5\u987B\u77E5\u9053where\u6761\u4EF6\u7684\u7D22\u5F15\u60C5\u51B5\u3002</li><li>\u628A\u5B57\u6BB5\u8FD0\u7B97\u6BD4\u8F83\uFF0C\u505A\u7B49\u5F0F\u53D8\u6362\u540E\uFF0C\u53D8\u4E3A\u5B9A\u503C\u6BD4\u8F83\u3002</li><li>\u907F\u514D\u590D\u6742SQL\uFF0C\u9F13\u52B1\u5355\u8868\u67E5\u8BE2\u3002</li><li>\u5206\u9875\u65F6\uFF0C\u5148\u5B9A\u5206\u9875\u6570\u636E\uFF0C\u518D\u5B9A\u5411\u8865\u5145\u5173\u8054\u6570\u636E\u3002</li><li>\u907F\u514D\u5FAA\u73AF\u67E5\u8BE2\u548CN+1\u67E5\u8BE2\u3002</li></ul><h2 id="_2d-2-mysql\u975E\u901A\u5E38\u7528\u6CD5" tabindex="-1"><a class="header-anchor" href="#_2d-2-mysql\u975E\u901A\u5E38\u7528\u6CD5" aria-hidden="true">#</a> 2D.2.MySql\u975E\u901A\u5E38\u7528\u6CD5</h2><h3 id="_01-find-in-set" tabindex="-1"><a class="header-anchor" href="#_01-find-in-set" aria-hidden="true">#</a> 01.FIND_IN_SET</h3><p>FIND_IN_SET(str,strlist)\uFF0C\u6BD4like\u548Cmatch\u66F4\u7CBE\u51C6\u7684\u67E5\u627E\uFF0Cstrlist\u4EE5\u9017\u53F7\u5206\u9694\uFF0Cstr\u4E2D\u4E0D\u80FD\u6709\u9017\u53F7\u3002 \u8FD4\u56DEstrlist\u4E2D1-base\u7684\u5750\u6807\u30020\u8868\u793A\u6CA1\u627E\u5230\u6D3Bstrlist\u4E3A\u7A7A\u3002NULL\u5982\u679Cstr\u6216strlist\u4E3ANULL\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> FIND_IN_SET<span class="token punctuation">(</span><span class="token string">&#39;b&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;a,b,c,d&#39;</span><span class="token punctuation">)</span>
<span class="token comment">-- 2\uFF0C\u591A\u6570\u573A\u666F\u8FD8\u662F\u4F5C\u4E3Awhere\u6761\u4EF6\uFF0C\u5982\u4E0B</span>
<span class="token keyword">WHERE</span> FIND_IN_SET<span class="token punctuation">(</span>role<span class="token punctuation">,</span> role_set<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_02-group-concat" tabindex="-1"><a class="header-anchor" href="#_02-group-concat" aria-hidden="true">#</a> 02.GROUP_CONCAT</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code>GROUP_CONCAT<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">DISTINCT</span><span class="token punctuation">]</span> expr <span class="token punctuation">[</span><span class="token punctuation">,</span>expr <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> {unsigned_integer <span class="token operator">|</span> col_name <span class="token operator">|</span> expr}
        <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span>col_name <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span>SEPARATOR str_val<span class="token punctuation">]</span>
<span class="token punctuation">)</span>

<span class="token keyword">SELECT</span> 
    GROUP_CONCAT<span class="token punctuation">(</span>CONCAT_WS<span class="token punctuation">(</span><span class="token string">&#39;, &#39;</span><span class="token punctuation">,</span> contactLastName<span class="token punctuation">,</span> contactFirstName<span class="token punctuation">)</span>
        SEPARATOR <span class="token string">&#39;;&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> customers<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_03-\u5168\u6587\u68C0\u7D22-match-against" tabindex="-1"><a class="header-anchor" href="#_03-\u5168\u6587\u68C0\u7D22-match-against" aria-hidden="true">#</a> 03.\u5168\u6587\u68C0\u7D22\uFF0CMATCH AGAINST</h3><p>\u9700\u8981\u5EFA\u7ACBfull text index\uFF0C\u6CE8\u610F\u6C49\u5B57\u5206\u8BCD\u6216\u7528\u63D2\u4EF6\u6216\u5728java\u4E2D\u5206\u597D</p><h3 id="_04-\u66FF\u6362\u548C\u5FFD\u7565-replace-ignore" tabindex="-1"><a class="header-anchor" href="#_04-\u66FF\u6362\u548C\u5FFD\u7565-replace-ignore" aria-hidden="true">#</a> 04.\u66FF\u6362\u548C\u5FFD\u7565 REPLACE IGNORE</h3><p><code>replace into</code>\u548C<code>insert ignore</code></p><h3 id="_05-\u614E\u7528json\u6570\u636E\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_05-\u614E\u7528json\u6570\u636E\u7C7B\u578B" aria-hidden="true">#</a> 05.\u614E\u7528Json\u6570\u636E\u7C7B\u578B</h3><p>As of MySQL 5.7.8, MySQL supports a native JSON data type defined by RFC 7159<br> \u65B0\u7684\u64CD\u4F5C\u7B26<code>-&gt;</code>\u548C<code>-&gt;&gt;</code>\uFF0C\u9700\u8981\u6CE8\u610F\u8BCD\u6CD5\u5206\u6790\u6846\u67B6\u7684\u517C\u5BB9\u6027\uFF0C\u6240\u4EE5\u5728java\u4E2D\u5904\u7406\u66F4\u4E3A\u59A5\u5F53\u3002</p><h3 id="_06-\u6027\u80FD\u5206\u6790explain\u548Cbenchmark" tabindex="-1"><a class="header-anchor" href="#_06-\u6027\u80FD\u5206\u6790explain\u548Cbenchmark" aria-hidden="true">#</a> 06.\u6027\u80FD\u5206\u6790explain\u548CBENCHMARK</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u5355\u4E2Aexpress\u91CD\u590D\u6267\u884C\uFF0C\u6CE8\u610F\uFF0Cselect\u53EA\u80FD\u8FD4\u56DE\u552F\u4E00\u503C</span>
<span class="token keyword">SELECT</span> BENCHMARK<span class="token punctuation">(</span><span class="token number">1000000</span><span class="token punctuation">,</span><span class="token punctuation">(</span>
    <span class="token keyword">SELECT</span> <span class="token function">count</span><span class="token punctuation">(</span>author_name<span class="token punctuation">)</span> <span class="token keyword">FROM</span> git_log_jetplus
<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u67E5\u770B\u7D22\u5F15\u4F7F\u7528\u60C5\u51B5</span>
<span class="token keyword">explain</span> 
    <span class="token keyword">SELECT</span> author_name <span class="token keyword">FROM</span> git_log_jetplus<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_07-\u5206\u9875limit\u548Cfound-rows-\u8BB0\u5F55\u603B\u6570" tabindex="-1"><a class="header-anchor" href="#_07-\u5206\u9875limit\u548Cfound-rows-\u8BB0\u5F55\u603B\u6570" aria-hidden="true">#</a> 07.\u5206\u9875limit\u548CFOUND_ROWS()\u8BB0\u5F55\u603B\u6570</h3><div class="language-mysql ext-mysql line-numbers-mode"><pre class="language-mysql"><code>-- \u5148\u589E\u52A0SQL_CALC_FOUND_ROWS\u9009\u9879\uFF0C
SELECT SQL_CALC_FOUND_ROWS * FROM tbl_name WHERE id &gt; 100 LIMIT 10;
-- \u7136\u540E\u83B7\u53D6
SELECT FOUND_ROWS();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_08-\u81EA\u589E\u4E3B\u952Eauto-increment\u548Clast-insert-id" tabindex="-1"><a class="header-anchor" href="#_08-\u81EA\u589E\u4E3B\u952Eauto-increment\u548Clast-insert-id" aria-hidden="true">#</a> 08.\u81EA\u589E\u4E3B\u952EAUTO_INCREMENT\u548CLAST_INSERT_ID()</h3><p>\u9879\u76EE\u4E2D\u907F\u514D\u4F7F\u7528\u81EA\u589E\u4E3B\u952E\uFF0C\u7279\u4E8B\u7279\u529E\u7684\u65F6\u5019\uFF0C\u53EF\u4EE5\u5982\u4E0A\u83B7\u5F97\u3002<br> \u6CE8\u610Fvalue\u591A\u503C\u63D2\u5165\u65F6\uFF0C\u53EA\u8FD4\u56DE\u7B2C\u4E00\u4E2A\u3002</p><h3 id="_09-\u5B57\u7B26\u4E32-\u5B57\u6BB5\u94FE\u63A5-concat\u548Cconcat-ws" tabindex="-1"><a class="header-anchor" href="#_09-\u5B57\u7B26\u4E32-\u5B57\u6BB5\u94FE\u63A5-concat\u548Cconcat-ws" aria-hidden="true">#</a> 09.\u5B57\u7B26\u4E32/\u5B57\u6BB5\u94FE\u63A5 CONCAT\u548CCONCAT_WS</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u6CE8\u610F\u5BF9null\u7684\u5904\u7406</span>
<span class="token keyword">SELECT</span> CONCAT<span class="token punctuation">(</span><span class="token string">&#39;My&#39;</span><span class="token punctuation">,</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span> <span class="token string">&#39;QL&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- NULL, returns NULL if any argument is NULL.</span>
<span class="token keyword">SELECT</span> CONCAT_WS<span class="token punctuation">(</span><span class="token string">&#39;,&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;First name&#39;</span><span class="token punctuation">,</span><span class="token boolean">NULL</span><span class="token punctuation">,</span><span class="token string">&#39;Last Name&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- &#39;First name,Last Name&#39;, skip any NULL values</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_10-\u65F6\u533A\u8F6C\u6362convert-tz" tabindex="-1"><a class="header-anchor" href="#_10-\u65F6\u533A\u8F6C\u6362convert-tz" aria-hidden="true">#</a> 10.\u65F6\u533A\u8F6C\u6362CONVERT_TZ</h3><p>\u8F6C\u6362\u7C7B\u64CD\u4F5C\uFF0C\u5E94\u8BE5\u5728write\u65F6\uFF0C\u6B64\u65B9\u6CD5\u5E94\u5728\u4E34\u65F6\u6027\u8BFB\u53D6\u65F6\u4F7F\u7528\u3002<br> \u6CE8\u610F\u95F0\u79D2(leap second) <code>:59:60</code> or <code>:59:61</code>\u90FD\u4EE5<code>:59:59</code>\u8FD4\u56DE</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span>  CONVERT_TZ<span class="token punctuation">(</span><span class="token string">&#39;2007-03-11 2:00:00&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;America/New_york&#39;</span><span class="token punctuation">,</span><span class="token string">&#39;Asia/Shanghai&#39;</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> time_cn
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="_11-\u683C\u5F0F\u5316\u8F93\u51FAformat-date-format" tabindex="-1"><a class="header-anchor" href="#_11-\u683C\u5F0F\u5316\u8F93\u51FAformat-date-format" aria-hidden="true">#</a> 11.\u683C\u5F0F\u5316\u8F93\u51FAFORMAT,DATE_FORMAT</h3><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- &#39;#,###,###.##&#39;</span>
<span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">12332.123456</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- &#39;12,332.1235&#39;</span>
<span class="token keyword">SELECT</span> <span class="token function">FORMAT</span><span class="token punctuation">(</span><span class="token number">12332.1</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- &#39;12,332.1000&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_12-\u5168\u5C40\u60B2\u89C2\u9501get-lock" tabindex="-1"><a class="header-anchor" href="#_12-\u5168\u5C40\u60B2\u89C2\u9501get-lock" aria-hidden="true">#</a> 12.\u5168\u5C40\u60B2\u89C2\u9501GET_LOCK</h3><p>\u6B64\u529F\u80FD\u5728\u505A\u8DE8jvm\u5168\u5C40\u60B2\u89C2\u9501\u65F6\u53EF\u7528\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- \u4E00\u6761\u8BED\u53E5\uFF0C\u65E0\u963B\u585E\u83B7\u5F97\u9501</span>
<span class="token keyword">SELECT</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>IS_FREE_LOCK<span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">)</span><span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">,</span> GET_LOCK<span class="token punctuation">(</span><span class="token string">&#39;10&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u68C0\u6D4B\u9501\uFF0C1 if the lock is free</span>
<span class="token keyword">SELECT</span> IS_FREE_LOCK<span class="token punctuation">(</span><span class="token string">&#39;lock1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u963B\u585E10\u79D2\uFF0C1 if successfully, 0 timed out</span>
<span class="token keyword">SELECT</span> GET_LOCK<span class="token punctuation">(</span><span class="token string">&#39;lock1&#39;</span><span class="token punctuation">,</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- \u91CA\u653E\u9501\uFF0C\u6216session\u4E2D\u65AD</span>
<span class="token keyword">SELECT</span> RELEASE_LOCK<span class="token punctuation">(</span><span class="token string">&#39;lock1&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">-- RELEASE_ALL_LOCKS()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_13-\u6B63\u5219\u5339\u914Dregexp\u548Crlike" tabindex="-1"><a class="header-anchor" href="#_13-\u6B63\u5219\u5339\u914Dregexp\u548Crlike" aria-hidden="true">#</a> 13.\u6B63\u5219\u5339\u914DREGEXP\u548CRLIKE</h3><p>\u6CE8\u610F\uFF0Cmysql\u662F\u57FA\u4E8Ebyte-wise\u7684\uFF0C\u4E0D\u662Fchar\uFF0C\u6240\u4EE5\u591A\u5B57\u8282\u5B57\u7B26\u6709\u53EF\u80FD\u4E0D\u6B63\u5E38\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 1\u4E3A\u5339\u914D\uFF0C0\u4E3A\u4E0D\u5339\u914D</span>
<span class="token keyword">SELECT</span> <span class="token string">&#39;Michael!&#39;</span> <span class="token operator">NOT</span> <span class="token operator">REGEXP</span> <span class="token string">&#39;.*&#39;</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_14-varchar\u548Ctext\u7C7B\u578B" tabindex="-1"><a class="header-anchor" href="#_14-varchar\u548Ctext\u7C7B\u578B" aria-hidden="true">#</a> 14.VarChar\u548CText\u7C7B\u578B</h3><ul><li>VarChar \u6709\u957F\u5EA6\u9650\u5236\uFF0C\u53EF\u4EE5\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u8FD9\u7B26\u5408wings NOT NULL\u7684\u89C4\u8303\u3002</li><li>TEXT\u53EF\u8BA4\u4E3A\u65E0\u9650\u5236\uFF0C\u4E0D\u53EF\u8BBE\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u4E0D\u7B26\u5408wings\u89C4\u8303\u3002</li><li>MySQL has hard limit of 4096 columns</li><li>maximum row size limit of 65535 bytes</li></ul><h2 id="_2d-3-\u672C\u5730-\u5185\u5B58h2" tabindex="-1"><a class="header-anchor" href="#_2d-3-\u672C\u5730-\u5185\u5B58h2" aria-hidden="true">#</a> 2D.3.\u672C\u5730/\u5185\u5B58H2</h2><p>\u5728\u4E0D\u65B9\u4FBF\u63D0\u4F9Bmysql\u6570\u636E\u5E93\u7684\u65F6\u5019\uFF0C\u5982\u6F14\u793A\u6216\u672C\u5730\u6570\u636E\u5E93\u5E94\u7528\uFF0C\u53EF\u4EE5\u4F7F\u7528H2\uFF0C\u914D\u7F6E\u5982\u4E0B\u3002</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>jdbc:h2:~/wings-init
;USER=trydofor;PASSWORD=moilioncircle
;MODE=MySQL;CASE_INSENSITIVE_IDENTIFIERS=TRUE
;AUTO_RECONNECT=TRUE;AUTO_SERVER=TRUE
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u5176\u4E2D\uFF0CH2\u5BF9mysql\u505A\u4E86\u90E8\u5206\u517C\u5BB9\uFF0C\u5206\u8868\u5206\u5E93\u53EF\u4EE5\uFF0Ctrigger\u4E0D\u652F\u6301\uFF0C\u53C2\u8003\u914D\u7F6E\uFF0C</p><ul><li>wings-conf/shardingsphere-datasource-79.properties</li><li>wings-conf/shardingsphere-datasource-79@init.properties</li></ul>`,44),E={href:"http://h2database.com/html/features.html",target:"_blank",rel:"noopener noreferrer"},y=s("H2\u5B98\u65B9\u6587\u6863");function f(L,T){const a=i("ExternalLinkIcon");return l(),c("div",null,[r,n("p",null,[d,n("a",u,[k,e(a)])]),m,n("p",null,[v,n("a",h,[b,e(a)]),_]),g,n("p",null,[n("a",E,[y,e(a)])])])}var C=t(p,[["render",f],["__file","2d-mysql-h2.html.vue"]]);export{C as default};
