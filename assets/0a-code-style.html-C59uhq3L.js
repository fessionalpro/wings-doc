import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as n,c as t,b as l,d as e,f as o,w as d,e as i,o as r}from"./app-BT4uJ8Vu.js";const c={},h=i('<h1 id="_0a-coding-style" tabindex="-1"><a class="header-anchor" href="#_0a-coding-style"><span>0A.Coding Style</span></a></h1><p>The Wings practice advocates defensive programming with the following values and philosophies.</p><ul><li>Static over Dynamic - don&#39;t reflect if you can code</li><li>StrongType over WeakType - typed class/enum is better than magic map/const</li><li>Compile-time over Runtime - troubleshoot at compile-time instead of runtime</li><li>IDE over Editor - contextual lookup instead of string lookup</li><li>Occam&#39;s Razor - Don&#39;t complicate what can be simple, don&#39;t imply what can be explicit</li><li>Naming Must be Clear - precise business meaning, readability first, not afraid of long or weird</li><li>Outside is Untrusted - validate and convert at the boundary, while inside is trusted</li></ul><p>Defensive programming considers boundary and exception everywhere, May The <code>false</code> Be With You !</p><h2 id="_0a-1-readability-first-java-coding" tabindex="-1"><a class="header-anchor" href="#_0a-1-readability-first-java-coding"><span>0A.1.Readability First Java Coding</span></a></h2><p>Follow the standard Java coding spec (idea hints are fine), but readability takes precedence.</p><ul><li><code>static final</code> don&#39;t have to be all-caps, <code>log</code> is preferred to <code>LOG</code></li><li><code>BIG_SNAKE</code> could be<code>PascalNaming</code>, lowercase is readable than uppercase</li><li>All-caps (abbr. or proper) should use PascalNaming. <code>Json</code>, <code>Html</code>, <code>Id</code></li><li>Prefix/suffix/abbr must be 2+ letters, 3 letters recommended (camelNaming)</li><li>Local language can be used for industry jargon that has no common English name.</li><li>Remember words with 4-8 letters. Use verb-object or adverb to name</li><li>Null-safe, use empty instead of null, Set/List/Array/Map</li><li>Declare nullability using @NotNull, @Nullable, @Contract</li><li>Positive business meaning, positive words, parameters. such as true</li><li>using <code>@Param.InOut/Out</code> and suffix annotation modified param</li></ul><p>To improve coding quality and enhance your programming skills, go to <a href="https://java-code-review.moilioncircle.com" target="_blank" rel="noopener noreferrer">NotBad Review</a></p><h2 id="_0a-2-sql-using-snake-case" tabindex="-1"><a class="header-anchor" href="#_0a-2-sql-using-snake-case"><span>0A.2.Sql using snake_case</span></a></h2><p>All lowercase with underscore split. in practice, lowercase is easier to recognize than uppercase.</p><ul><li>Database, table, field, all lowercase</li><li>SQL keywords, built-ins, all uppercase, user-defined</li><li>Prefix <code>ix_</code>,<code>uq_</code>,<code>ft_</code>,<code>pk_</code> to <code>index</code> by its type</li><li>Prefix <code>(ai|au|db)__</code> to <code>trigger</code> by its event</li></ul><p>Wings advocates the SQL-ization of business tables, which means using SQL to manage tables and data, with GUI or object mapping as a helper tool. SQL is well known and easy to edit, compare, document and version, including management of architecture, documentation and execution.</p><ul><li>table <code>number/name:explain</code> - 105/const:auto-gen enum</li><li>column <code>comment/explain:opt1|opt2</code> - verify account/identification:email|phone</li></ul><p>The number is planned by the business architecture, e.g. 10x for system, 11x for application, 12x for user, 13x for permission, 2xx for product, 3xx for order, etc.</p><h2 id="_0a-3-properties-first-in-configuration" tabindex="-1"><a class="header-anchor" href="#_0a-3-properties-first-in-configuration"><span>0A.3.Properties First in Configuration</span></a></h2><p>Recommend <code>properties</code>, as the indentation of <code>yml</code> is difficult to edit, copy, and share in parts.</p><ul><li>Group related properties in a separate <code>properties</code> file, split the large file into smaller ones for easy management and versioning</li><li><code>wings-enabled.properties</code> is used for ConditionalOnProperty <ul><li>Use <code>wings.enabled.xxx=true|false</code> as a standard format.</li><li><code>xxx</code> can be java Class/Method naming rule.</li></ul></li><li><code>spring-*</code> is used for the spring official configuration</li><li><code>wings-*</code> is used for the wings configuration, <ul><li>Use the codename of project/module, e.g. <code>wings.slardar.*</code></li><li>Provide the default configuration with <code>-79</code> serial number</li></ul></li><li>Recommend <code>kebab-case</code> naming, i.e. <code>key</code> is all lowercase, <code>-</code> split</li><li>document-type comments, using double one-line comments, such as <code>##</code> in Properties</li><li>function-type comments, using a single one-line comment, such as <code>#</code> in Properties</li></ul><h2 id="_0a-4-spring-injection-notes" tabindex="-1"><a class="header-anchor" href="#_0a-4-spring-injection-notes"><span>0A.4.Spring Injection Notes</span></a></h2><ul><li><code>constructor</code> injection first, using <code>@RequiredArgsConstructor</code> of <code>lombok</code></li><li><code>setter</code> injection second, using <code>@Setter(onMethod_ = {@Autowired})</code> of <code>lombok</code> or <code>@Autowired lateinit var</code> of <code>kotlin</code></li><li>Avoid <code>Field</code> injection, you can google why not</li><li>Typically, constructor means required, setter means optional</li><li>However, too many injections makes the parameters too long to understand and use, then use setter injection and <code>afterPropertiesSet</code> checking instead.</li></ul><p>The use of <code>@Resource</code>, <code>@Inject</code>, and <code>@Autowired</code> has some differences,</p><ul><li>Resource is processed by CommonAnnotationBeanPostProcessor. The search order is ①BeanName ②BeanType ③Qualifier</li><li>Autowired and Inject are processed by AutowiredAnnotationBeanPostProcessor, The search order is ①BeanType ②Qualifier ③BeanName</li><li>by-type injection uses Autowired and Inject, by-name injection uses Resource (fine-grained, hard to control)</li><li>recommend <code>@Autowired</code> in spring, use <code>@Inject</code> for compatibility</li></ul><p>Injection rules when extending a parent class (the class cannot know its subclass)</p><ul><li>If @Setter injection in the parent, the fields should protected than private</li><li>If deny override, use <code>final setter</code> to make DI in the parent</li><li>If the parent has setter DI, override it need to make sure subclass DI</li><li>Subclass override and inject itself can instead parent DI</li></ul><h2 id="_0a-5-requestmapping-style" tabindex="-1"><a class="header-anchor" href="#_0a-5-requestmapping-style"><span>0A.5.RequestMapping Style</span></a></h2>',24),p=i(`<ul><li>Full path on method <code>@RequestMapping(&quot;/a/b/c.html&quot;)</code></li><li>Version on the controller <code>@RequestMapping(&quot;/v1&quot;)</code></li><li>Do not use relative path, so can search directly by URL match</li><li>Do not use prefix to concat path (view, url) to avoid meaningless fragmentation</li><li>The url must have an extension to identify the MIME or to filter, whether REST or otherwise.</li></ul><h2 id="_0a-6-service-and-dto-convention" tabindex="-1"><a class="header-anchor" href="#_0a-6-service-and-dto-convention"><span>0A.6.Service and Dto Convention</span></a></h2><p>When using annotation on the interface, see the following,</p><ul><li><code>@Component</code>-like, not on interface, on the implementation</li><li>Functional annotation, on he interface, eg. <code>@Transactional</code></li></ul><p>Service is interface and its Dto is its inner class, these are contract. Conversion and copying between Dto, use code tool to generate static mapping helper. Prohibit the use of reflection, not only because of performance loss, but mainly because of the dynamics, out of compile-time checking.</p><p>Direct one-way output model objects, you can use map, otherwise must be strongly typed class.</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> interface</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TradeService</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Getter</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">RequiredArgsConstructor</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    enum</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Err</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> implements</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> CodeEnum</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">        RateFailed</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">&quot;fedex.rate.unknown&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> &quot;Failed to get Fedex quote&quot;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">        ;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> code</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> final</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> String</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> hint</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Data</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    class</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TradeInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> {</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        private</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> long</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> orderId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">        private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> BigDecimal</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> amountOrder</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">        // others</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    }</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">    /* docs */</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">    void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> transfer</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">(@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">NotNull</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> MoneyInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> ai</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">NotNull</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TradeInfo</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> ti</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">, @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">NotNull</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Journal</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;--shiki-light-font-style:inherit;--shiki-dark-font-style:italic;"> journal</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">);</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_0a-7-enum-code-and-const" tabindex="-1"><a class="header-anchor" href="#_0a-7-enum-code-and-const"><span>0A.7.Enum, Code and Const</span></a></h2><p>Because of the strong type principle, all magic code and const should be converted to enum and passed between business layers.</p><ul><li>In the service layer, the enum is autogen by template, and converted by <code>*EnumUtil</code></li><li>In the db layer, reading and writing with basic types (int, varchar)</li><li>In the user layer, display the enum content in an i18n format</li><li>Magic values that cannot be converted to enum, marked with <code>@MagicConstant</code></li></ul><h2 id="_0a-8-maven-management-convention" tabindex="-1"><a class="header-anchor" href="#_0a-8-maven-management-convention"><span>0A.8.Maven Management Convention</span></a></h2><ul><li>Multi-module has main project (parent|packaging=pom) and sub-projects (module|packaging=jar)</li><li>The main project defines libs in dependencyManagement and does not manage specific dependencies</li><li>the sub-project manage its own dependencies and cannot redefine version number</li><li>In dependency conflicts, Maven follows the shortest path principle, so redefining the project in the closest</li></ul><h2 id="_0a-9-api-testing-and-docs-convention" tabindex="-1"><a class="header-anchor" href="#_0a-9-api-testing-and-docs-convention"><span>0A.9.Api Testing and Docs Convention</span></a></h2><p>Wings enable swagger by default, the path is <code>/swagger-ui/index.html</code></p><p>As swagger annotations will make the in-code doc complex and SpringDoc does a more intelligent derivation. So it is recommended to simplify the annotation when you can express it clearly, see the following annotations.</p><ul><li>@Operation use tag, summary and description</li><li>@Schema, input and output object</li><li>@Parameter, input param</li><li>@ApiResponse, if complex response</li></ul><p>the description supports Markdown, use jsdoc can make the docs more clear,</p><ul><li>see param <a href="https://jsdoc.app/tags-param.html" target="_blank" rel="noopener noreferrer">https://jsdoc.app/tags-param.html</a></li><li>see returns <a href="https://jsdoc.app/tags-returns.html" target="_blank" rel="noopener noreferrer">https://jsdoc.app/tags-returns.html</a></li><li><code>@param [name=trydofor] - Somebody&#39;s name.</code> -</li><li><code>@return {200|Result(Dto)} success response, status=200</code> - Parentheses indicate generic (to avoid escaping)</li><li><code>@return {200|Result(false)} failure response, status=200</code>- Parentheses indicate simple convention parameters</li></ul><p>Do not use weak passwords in swagger, and should disable swagger in the live product with the following properties</p><ul><li>springdoc.api-docs.enabled=true</li><li>springdoc.swagger-ui.enabled=true</li></ul><h2 id="_0a-a-resource-structure" tabindex="-1"><a class="header-anchor" href="#_0a-a-resource-structure"><span>0A.A.Resource Structure</span></a></h2><p>Files or packages, usually prefixed with wings or codename. The prefix indicates a unified service and the codename is project specific.</p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>src/main/resources</span></span>
<span class="line"><span>├── META-INF - spring auto config entrance</span></span>
<span class="line"><span>│   └── spring.factories - EnableAutoConfiguration</span></span>
<span class="line"><span>├── extra-conf/ - non-auto loading config</span></span>
<span class="line"><span>├── wings-conf/ - wings auto config, xml|yml|yaml|properties</span></span>
<span class="line"><span>├── wings-flywave/ - flywave manage data and schema version,</span></span>
<span class="line"><span>│   ├── branch/* - branch scripts, such as maintenance, functions</span></span>
<span class="line"><span>│   └── master/* - mainline script, online</span></span>
<span class="line"><span>└── wings-i18n/ - wings auto config bundle</span></span>
<span class="line"><span>│   ├── base-validator_en.properties - english</span></span>
<span class="line"><span>│   └── base-validator_ja.properties - japanese</span></span>
<span class="line"><span>└── application.properties - spring config can override wings</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_0a-b-auto-conf-structure" tabindex="-1"><a class="header-anchor" href="#_0a-b-auto-conf-structure"><span>0A.B.Auto Conf Structure</span></a></h2><p>Wings handle<code>spring/bean</code> special, can auto apply <code>@ComponentScan</code></p><div class="language-text line-numbers-mode" data-highlighter="shiki" data-ext="text" data-title="text" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span>src/**/spring - all spring config</span></span>
<span class="line"><span>├── bean/ - auto scan to produce \`@Bean\` to be \`@Autowired\`</span></span>
<span class="line"><span>│   └── WingsLightIdConfiguration.java - prefix codename internally and Wings externally</span></span>
<span class="line"><span>├── boot/ - spring boot config, not produce bean</span></span>
<span class="line"><span>│   └── WingsAutoConfiguration.java - IDE and starter compatible entrance</span></span>
<span class="line"><span>├── conf/ - Config helper, eg. Configurer, AutoConfiguration</span></span>
<span class="line"><span>├── help/ - Helper</span></span>
<span class="line"><span>└── prop/ - property, autogen spring-configuration-metadata.json</span></span>
<span class="line"><span>    └── FacelessEnabledProp.java - toggle feature</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>When config <code>@Bean</code> in the <code>@Configuration</code>, the DI principle as follows,</p><ul><li>use constructor+final first</li><li>use parameters of methods to declare bean</li><li>can use Field injection in Config</li><li>avoid setter injection in Config, because the dependency error is too late</li><li>Autowired method for tool initialization</li></ul><h2 id="_0a-c-common-naming-convention" tabindex="-1"><a class="header-anchor" href="#_0a-c-common-naming-convention"><span>0A.C.Common Naming Convention</span></a></h2><ul><li>The default impl is <code>Default*</code></li><li>Adapter class is <code>*Adapter</code></li></ul><p>Common naming group, word order and meaning should be consistent, and readability first,</p><ul><li>Ins/Out</li><li>Query/Reply</li></ul><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// enum in Journal Service</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">enum</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Jane</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Create</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // insert</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Modify</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // update</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Remove</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // logic delete</span></span>
<span class="line"><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">    Delete</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;"> // real delete</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">}</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_0a-d-sync-internal-event-first" tabindex="-1"><a class="header-anchor" href="#_0a-d-sync-internal-event-first"><span>0A.D.Sync Internal Event First</span></a></h2><ul><li>Internal Event, Internal Publish, Internal Listen</li><li>If can listen internally, don&#39;t subscribe externally</li><li>If can synchronize, don&#39;t asynchronize</li></ul><h2 id="_0a-e-over-design-and-tech-debt" tabindex="-1"><a class="header-anchor" href="#_0a-e-over-design-and-tech-debt"><span>0A.E.Over-design and Tech-debt</span></a></h2><p>Due to the progressively detailed requirements and external environmental changes, almost all business systems are developed in an evolutionary manner.</p><p>Based on the above facts, in actual delivery, over-design for perfection will easily lead to mistakes and should follow the following rules.</p><ul><li>Do only 10% of the challenge above your ability, less than 20% of the further vision</li><li>Any compromise must not sacrifice quality, and things must not be done carelessly</li><li>Pay back 10-20% of tech debt with each iteration</li></ul><h2 id="_0a-f-time-is-godlike-type" tabindex="-1"><a class="header-anchor" href="#_0a-f-time-is-godlike-type"><span>0A.F.Time is Godlike Type</span></a></h2><p>There&#39;re 2 types of time <code>system</code> and <code>local</code> in wings. mapping on database and java,</p><ul><li><code>datetime</code> - <code>DATETIME</code> or <code>DATETIME(3)</code> to <code>LocalDateTime</code></li><li><code>date</code> - <code>DATE</code> to <code>LocalDate</code></li><li><code>time</code> - <code>TIME</code> or <code>TIME(3)</code> to <code>LocalTime</code></li><li><code>timezone</code> - <code>VARCHAR(40)</code> or <code>INT</code> to <code>ZoneId</code></li><li>Special scenario, stored as <code>BIGINT</code> or <code>VARCHAR(20)</code></li></ul><p>There are the following suffix conventions for field naming rules,</p><ul><li><code>_ldt</code> - <code>LocalDateTime</code>, e.g. <code>order_ldt</code></li><li><code>_odt</code> - <code>OffsetDateTime</code>, e.g. <code>order_odt</code></li><li><code>_zdt</code> - <code>ZonedDateTime</code>, e.g. <code>order_zdt</code></li><li><code>_zid</code> - <code>ZoneId</code>, e.g. <code>order_zid</code> for <code>order_*</code> time zone</li></ul><p>For example, in the cross-border e-commerce scenario, the servers run in the <code>UTC</code> time zone (system time), the Chinese customer (C1) in<code>Asia/Shanghai</code> (user time), New York merchant (NY) in <code>America/New_York</code> (data time), Los Angeles merchant (LA) in <code>America/Los_Angeles</code> (data time).</p><p>The local datetime, which must have a <code>timezone</code> to match, is further divided into <code>UserTime</code> and <code>DataTime</code>, named with the following suffixes.</p><ul><li><code>timezone</code> - string ,<code>_tz</code> or <code>_zid</code> as suffix and <code>ZoneId</code> as content.</li><li><code>datetime</code> - system/user/data time end with <code>_dt</code>/<code>_udt</code>/<code>_ldt</code> respectively</li><li><code>date</code> - system/user/data time end with <code>_dd</code>/<code>_udd</code>/<code>_ldd</code> respectively</li><li><code>time</code> - system/user/data time end with <code>_tm</code>/<code>_utm</code>/<code>_ltm</code> respectively</li></ul><p>E.g. at BST <code>2020-08-09 01:00:00 +08:00</code>, Chinese customer C1, places an order at NY and LA merchants respectively.</p><ul><li>Sys_dt(UTC) = <code>2020-08-08 17:00:00</code></li><li>C1_udt(Asia/Shanghai, UTC+8) = <code>2020-08-09 01:00:00</code></li><li>NY_ldt(America/New_York, UTC-4) = <code>2020-08-08 13:00:00</code></li><li>LA_ldt(America/Los_Angeles, UTC-7) = <code>2020-08-08 10:00:00</code></li></ul><p>Ahh, it&#39;s not right, I remember New York is <code>Western 5 Zone</code>, it should be <code>UTC-5</code>, <code>UTC-4</code> is wrong. We don&#39;t use <code>UTC-5</code> in the system, we have to use the city <code>zoneid</code>. Because there are many countries on the same longitude, and the time zone is not divided by the longitude, and some regions have <code>Daylight Saving Time</code>.</p><p>It&#39;s recommended to use the main user&#39;s timezone as the system timezone, and should consider whether UTC is the best solution.</p><p>So, we will use different time in the following scenarios,</p><ul><li>When tracking system logs, we use <code>Sys_dt</code> to ensure the consistent timeline.</li><li>When counting North American merchant <code>AM</code> operating reports, We use <code>*_ldt</code>.</li><li>When for user experience or timezone insensitive, all time for C1 is <code>C1_udt</code>.</li><li>Some industry practices (airlines, logistics) use local time, we use <code>*_ldt</code>.</li></ul><p>According to the reading and writing ratio, when storing datetime, should consider,</p><ul><li>Statistical services, usually convert on write, store the user localtime (and timezone), not converted on read</li><li>Collaborative operations, typically using system time on write and convert on read</li></ul><p>If time conversion is required, it should to be handled uniformly in the user interface (e.g. controller).</p><p>For players coming from java7, see the following alternative relationships.</p><ul><li>Instant instead of Date</li><li>LocalDateTime instead of Calendar</li><li>DateTimeFormatter instead of SimpleDateFormat</li></ul><h2 id="_0a-g-non-scientist-dont-use-float" tabindex="-1"><a class="header-anchor" href="#_0a-g-non-scientist-dont-use-float"><span>0A.G.Non-Scientist Dont Use Float</span></a></h2><p>In Wings there is no float/double, only integer (int/long) and BigDecimal. Their database types are INT/BIGINT/DECIMAL.</p><p>However, in practice, due to the lack of technology transfer, some external inertia is not change and pollute wings code, especially in the js ecosystem.</p><ul><li><code>0.1</code> + <code>0.2</code> = <code>0.30000000000000004</code></li><li><code>0.12</code> - <code>0.02</code> = <code>0.099999999999999</code></li></ul><p>The main reason for this is the IEEE754 format, floating point is not suitable for non-scientific scenarios, our normal developer should avoid using it.</p><p><code>Effective Java</code> is a necessary knowledge for java developers, here without further ado, see the following sections.</p><p>&quot;Avoid Float and Double If Exact Answers Are Required&quot;</p><h2 id="_0a-h-business-data-type" tabindex="-1"><a class="header-anchor" href="#_0a-h-business-data-type"><span>0A.H.Business Data Type</span></a></h2><p>The following types are recommended in Wings, mainly considering the compatibility of sql and json, sql is mainly mysql and h2database.</p><table><thead><tr><th>JAVA</th><th>MYSQL/H2</th><th>JS/JSON</th></tr></thead><tbody><tr><td>Boolean/boolean</td><td>BOOLEAN</td><td>boolean</td></tr><tr><td>Integer/int</td><td>INT</td><td>number</td></tr><tr><td>Long/long</td><td>BIGINT</td><td>BigInt/bigint</td></tr><tr><td>BigDecimal</td><td>DECIMAL(M,D)</td><td>string</td></tr><tr><td>String</td><td>CHAR(N)/VARCHAR(N)/TEXT</td><td>string</td></tr><tr><td>LocalDateTime</td><td>DATETIME(3)</td><td>string</td></tr><tr><td>LocalDate</td><td>DATE</td><td>string</td></tr><tr><td>LocalTime</td><td>TIME(3)</td><td>string</td></tr><tr><td>byte[]</td><td>BLOB</td><td>string(base64_urlsafe)</td></tr></tbody></table><h2 id="_0a-i-graceful-null-safety-in-practice" tabindex="-1"><a class="header-anchor" href="#_0a-i-graceful-null-safety-in-practice"><span>0A.I.Graceful null-safety in Practice</span></a></h2><p>As &quot;MoilionCircle&quot; &quot;bad code smell&quot; said, wings practically use <code>empty</code> instead of <code>null</code>.</p><ul><li>If null is a valid business value, you must first perform a business check.</li><li>If null is an invalid business value, should PreCheck or @NotNull and use empty instead.</li><li>Business methods, generally provide get() and get(boolean) of two types, <ul><li>get() is used to get NotNull value, equivalent to get(true), positive semantics.</li><li>get(false) is used to get Nullable value, negative semantics.</li></ul></li></ul><p>Speaking from different situations, although we all advocate avoiding making <code>null</code> a valid business value, sometimes factors outside the system are uncontrollable. Common databases, APIs, and JNI can all cause <code>null</code> to enter the data flow. At this time, it should be intercepted before entering the business flow, or <code>null</code> should be explicitly checked, such as using <code>Objects.equals</code>, <code>foo == null</code>, etc.</p><p>It should be noted that there is a &quot;advanced&quot; trick in the industry, which has become popular and is considered a standard for advanced programmers.</p><ul><li><code>!&quot;foo&quot;.equals(bar)</code> safe to handle the case that bar is null.</li><li><code>null != foo</code>, prepend null as a left-hand value.</li></ul><p>These two tricks can easily create pitfalls, should be with caution or avoided. The potential drawbacks are</p><ul><li>equals and hashCode have basic requirements, not all equals are null-safe.</li><li>Confusing the logic, easy to lose logic branches, <code>!=null</code> and <code>!=foo</code> are two branches. <ul><li>If null is a business value, <code>Objects.equals</code> should be used.</li><li>Otherwise it should assert/PreCheck, null in the logic flow means fallen.</li></ul></li><li>null as the left-hand value breaks consistency, as if expected and actual are swapped in Junit.</li></ul><p>Theory is theory, in practice we often make compromise or have no choice, we should respect history and team conventions. In wings,</p><ul><li><code>EmptyValue</code> and <code>EmptySugar</code>, provide empty values and utility for biz.</li><li>Collection/Container type like List/Map/Array/Option use Empty instead of null.</li><li>The <code>Null</code> class defines the value and validation to handle null, including enum, etc.</li><li>Use <code>@NotNull</code> on method signatures, IDE and compile time checking.</li><li><code>AssertArgs</code> and <code>AssertState</code> for business assert with i18n support.</li></ul><h2 id="_0a-j-contravariance-covariance-pecs-in-typesystem" tabindex="-1"><a class="header-anchor" href="#_0a-j-contravariance-covariance-pecs-in-typesystem"><span>0A.J.Contravariance/Covariance/PECS in TypeSystem</span></a></h2><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// ① field should use a concrete type or an abstract type</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> List</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">E</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> field1 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ArrayList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">private</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ArrayList</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">E</span><span style="--shiki-light:#E45649;--shiki-dark:#ABB2BF;">&gt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> field2 </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> new</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> ArrayList</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// ② return type</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> Map</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> provide1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> TreeMap</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> Object</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> provide2</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">()</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// ③ input parameters</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> consume1</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">List</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">String</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">public</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> void</span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;"> consume2</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">Collection</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> extends CharSequence</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> list)</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-dark:#7F848E;--shiki-light-font-style:italic;--shiki-dark-font-style:italic;">// ④ Method Signature of Map</span></span>
<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">replaceAll</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;">BiFunction</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&lt;</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> K</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> super</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> V</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;"> ?</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> extends V</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">&gt;</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> function)</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>In wings coding, ensure the compatibility first, the interface (using the mouth as an analogy) should,</p><ul><li>For input - as abstract as possible, try to eat more.</li><li>For output - as specific as possible, try to say detail.</li><li>For internal variable - keep it as it is, those who use it know it.</li></ul><p>Take Map as an example. For input, use Map+superK+extendsV. For output, keep the details like SortedMap or RandomAccess.</p><ul><li>TreeMap is dictionary order</li><li>LinkedHashMap is insertion order</li><li>HashMap is chaotic order.</li></ul><h2 id="_0a-k-leak-of-class-method-sideeffects" tabindex="-1"><a class="header-anchor" href="#_0a-k-leak-of-class-method-sideeffects"><span>0A.K.Leak of Class/Method (SideEffects)</span></a></h2><p>Wings refers to methods without the following characteristics as leak or side effect</p><ul><li>Pure functions</li><li>referential transparency</li><li>Side Effects</li></ul><p>Avoid using leaking methods and implicit variables as much as possible in programming.</p><h2 id="_0a-l-enhanced-self-injection-thislazy" tabindex="-1"><a class="header-anchor" href="#_0a-l-enhanced-self-injection-thislazy"><span>0A.L.Enhanced Self-Injection ThisLazy</span></a></h2><p>ThisLazy pattern, inside the bean, calls Spring enhanced methods, such as <code>@Transactional</code>, <code>@Cacheable</code>, <code>@Async</code>.</p><p>The followings use the <code>thisLazyAwarePostProcessor</code> to the auto inject itself.</p><ul><li><code>extends ThisLazy&lt;T&gt;</code> - uses <code>thisLazy</code> directly in the subclass</li><li><code>implements ThisLazyAware&lt;T&gt;</code> - implements the interface</li></ul><p>The following code, for manually init and inject <code>thisLazy</code>,</p><div class="language-java line-numbers-mode" data-highlighter="shiki" data-ext="java" data-title="java" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Setter</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">(</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;">onMethod_</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;"> =</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;"> {</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">@</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Autowired</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">,</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> @</span><span style="--shiki-light:#A626A4;--shiki-dark:#E5C07B;">Lazy</span><span style="--shiki-light:#383A42;--shiki-dark:#E06C75;">})</span></span>
<span class="line"><span style="--shiki-light:#A626A4;--shiki-dark:#C678DD;">protected</span><span style="--shiki-light:#C18401;--shiki-dark:#E5C07B;"> RuntimeConfService</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;"> thisLazy </span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#E45649;--shiki-dark:#E5C07B;"> this</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>Except for the following cases, there are runtime type exceptions, where <code>M</code> represents the enhanced method used by thisLazy,</p><ul><li><code>T</code> is an interface, and all <code>M</code> come from <code>T</code> (best practice)</li><li><code>T</code> is a class, and <code>M</code> is enhanced by Cglib (proxyTargetClass=true)</li><li>no <code>M</code>, in which case <code>T</code> is itself (but should not use this pattern)</li></ul><h2 id="_0a-m-pojo-setter-naming-and-transient-rule" tabindex="-1"><a class="header-anchor" href="#_0a-m-pojo-setter-naming-and-transient-rule"><span>0A.M.Pojo Setter Naming and Transient rule</span></a></h2><p>Setter naming in Pojo, taking into account the common serialization tool compatibility, the convention is as follows.</p><ul><li>non-serialized field, use <code>transient</code> keyword</li><li>non-serialized Setter, do not use <code>setXxx</code>, use <code>setXxxBy</code></li><li>non-serialized Setter, use <code>@Transient</code> recommended</li><li>conditional Setter, use <code>setXxxIf</code> form</li></ul><p>In this context, non-serialized Setters refer to polymorphic Setters with the same name but different parameters. In particular, a single parameter tends to interfere with the serialization of pojo&#39;s real Setters.</p><p>For differences between jackson and fastjson, see [0D.03.jackson and fastjson](. /0d-qa-devops.md#0d03)</p>`,101);function u(k,g){const s=n("RouteLink");return r(),t("div",null,[h,l("p",null,[e("Url naming is mainly scenario-based prefixes, see "),o(s,{to:"/0-wings/0b-rest-half.html"},{default:d(()=>[e("RestHalf")]),_:1}),e(".")]),p])}const f=a(c,[["render",u],["__file","0a-code-style.html.vue"]]),v=JSON.parse(`{"path":"/0-wings/0a-code-style.html","title":"0A.Coding Style","lang":"en-US","frontmatter":{"isOriginal":true,"icon":"brush","category":["WingsGod","Standard"],"description":"0A.Coding Style The Wings practice advocates defensive programming with the following values and philosophies. Static over Dynamic - don't reflect if you can code StrongType ove...","GIT_REPO_HEAD":"2025-01-28 900f8d7f901cad2172a025862418812b0d068d29","head":[["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://wings.fessional.pro/zh/0-wings/0a-code-style.html"}],["meta",{"property":"og:url","content":"https://wings.fessional.pro/0-wings/0a-code-style.html"}],["meta",{"property":"og:site_name","content":"WingsBoot Win Sprint"}],["meta",{"property":"og:title","content":"0A.Coding Style"}],["meta",{"property":"og:description","content":"0A.Coding Style The Wings practice advocates defensive programming with the following values and philosophies. Static over Dynamic - don't reflect if you can code StrongType ove..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-01-16T10:15:44.000Z"}],["meta",{"property":"article:author","content":"trydofor"}],["meta",{"property":"article:modified_time","content":"2025-01-16T10:15:44.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"0A.Coding Style\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2025-01-16T10:15:44.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"trydofor\\",\\"url\\":\\"https://www.trydofor.com\\"}]}"]]},"headers":[{"level":2,"title":"0A.1.Readability First Java Coding","slug":"_0a-1-readability-first-java-coding","link":"#_0a-1-readability-first-java-coding","children":[]},{"level":2,"title":"0A.2.Sql using snake_case","slug":"_0a-2-sql-using-snake-case","link":"#_0a-2-sql-using-snake-case","children":[]},{"level":2,"title":"0A.3.Properties First in Configuration","slug":"_0a-3-properties-first-in-configuration","link":"#_0a-3-properties-first-in-configuration","children":[]},{"level":2,"title":"0A.4.Spring Injection Notes","slug":"_0a-4-spring-injection-notes","link":"#_0a-4-spring-injection-notes","children":[]},{"level":2,"title":"0A.5.RequestMapping Style","slug":"_0a-5-requestmapping-style","link":"#_0a-5-requestmapping-style","children":[]},{"level":2,"title":"0A.6.Service and Dto Convention","slug":"_0a-6-service-and-dto-convention","link":"#_0a-6-service-and-dto-convention","children":[]},{"level":2,"title":"0A.7.Enum, Code and Const","slug":"_0a-7-enum-code-and-const","link":"#_0a-7-enum-code-and-const","children":[]},{"level":2,"title":"0A.8.Maven Management Convention","slug":"_0a-8-maven-management-convention","link":"#_0a-8-maven-management-convention","children":[]},{"level":2,"title":"0A.9.Api Testing and Docs Convention","slug":"_0a-9-api-testing-and-docs-convention","link":"#_0a-9-api-testing-and-docs-convention","children":[]},{"level":2,"title":"0A.A.Resource Structure","slug":"_0a-a-resource-structure","link":"#_0a-a-resource-structure","children":[]},{"level":2,"title":"0A.B.Auto Conf Structure","slug":"_0a-b-auto-conf-structure","link":"#_0a-b-auto-conf-structure","children":[]},{"level":2,"title":"0A.C.Common Naming Convention","slug":"_0a-c-common-naming-convention","link":"#_0a-c-common-naming-convention","children":[]},{"level":2,"title":"0A.D.Sync Internal Event First","slug":"_0a-d-sync-internal-event-first","link":"#_0a-d-sync-internal-event-first","children":[]},{"level":2,"title":"0A.E.Over-design and Tech-debt","slug":"_0a-e-over-design-and-tech-debt","link":"#_0a-e-over-design-and-tech-debt","children":[]},{"level":2,"title":"0A.F.Time is Godlike Type","slug":"_0a-f-time-is-godlike-type","link":"#_0a-f-time-is-godlike-type","children":[]},{"level":2,"title":"0A.G.Non-Scientist Dont Use Float","slug":"_0a-g-non-scientist-dont-use-float","link":"#_0a-g-non-scientist-dont-use-float","children":[]},{"level":2,"title":"0A.H.Business Data Type","slug":"_0a-h-business-data-type","link":"#_0a-h-business-data-type","children":[]},{"level":2,"title":"0A.I.Graceful null-safety in Practice","slug":"_0a-i-graceful-null-safety-in-practice","link":"#_0a-i-graceful-null-safety-in-practice","children":[]},{"level":2,"title":"0A.J.Contravariance/Covariance/PECS in TypeSystem","slug":"_0a-j-contravariance-covariance-pecs-in-typesystem","link":"#_0a-j-contravariance-covariance-pecs-in-typesystem","children":[]},{"level":2,"title":"0A.K.Leak of Class/Method (SideEffects)","slug":"_0a-k-leak-of-class-method-sideeffects","link":"#_0a-k-leak-of-class-method-sideeffects","children":[]},{"level":2,"title":"0A.L.Enhanced Self-Injection ThisLazy","slug":"_0a-l-enhanced-self-injection-thislazy","link":"#_0a-l-enhanced-self-injection-thislazy","children":[]},{"level":2,"title":"0A.M.Pojo Setter Naming and Transient rule","slug":"_0a-m-pojo-setter-naming-and-transient-rule","link":"#_0a-m-pojo-setter-naming-and-transient-rule","children":[]}],"git":{"createdTime":1655901635000,"updatedTime":1737022544000,"contributors":[{"name":"trydofor","email":"trydofor@gmail.com","commits":15}]},"readingTime":{"minutes":9.8,"words":2940},"filePathRelative":"0-wings/0a-code-style.md","localizedDate":"June 22, 2022","autoDesc":true}`);export{f as comp,v as data};
