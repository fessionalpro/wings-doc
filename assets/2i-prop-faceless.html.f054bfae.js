import{_ as e}from"./_plugin-vue_export-helper.cdc0426e.js";import{o as s,c as a,f as i}from"./app.d363b873.js";const n={},d=i(`<h1 id="_2i-\u865A\u7A7A\u7684\u5C5E\u6027" tabindex="-1"><a class="header-anchor" href="#_2i-\u865A\u7A7A\u7684\u5C5E\u6027" aria-hidden="true">#</a> 2I.\u865A\u7A7A\u7684\u5C5E\u6027</h1><p>\u6709\u5173\u6570\u636E\u5E93\uFF0C\u6570\u636E\u64CD\u4F5C\uFF0CDb\u5C42\u9762I18n\u7684\u57FA\u672C\u5C5E\u6027\u3002</p><h2 id="_2i-1-spring-wings-enabled-79-properties" tabindex="-1"><a class="header-anchor" href="#_2i-1-spring-wings-enabled-79-properties" aria-hidden="true">#</a> 2I.1.spring-wings-enabled-79.properties</h2><p>Faceless\u529F\u80FD\u7684\u9ED8\u8BA4\u5F00\u5173\uFF0C\u5982\u4E0B</p><h3 id="spring-wings-faceless-enabled-lightid" tabindex="-1"><a class="header-anchor" href="#spring-wings-faceless-enabled-lightid" aria-hidden="true">#</a> spring.wings.faceless.enabled.lightid</h3><p><code>Boolean</code>=<code>true</code>\uFF0C\u662F\u5426\u6CE8\u5165lingthid</p><h3 id="spring-wings-faceless-enabled-journal" tabindex="-1"><a class="header-anchor" href="#spring-wings-faceless-enabled-journal" aria-hidden="true">#</a> spring.wings.faceless.enabled.journal</h3><p><code>Boolean</code>=<code>true</code>\uFF0C\u662F\u5426\u6CE8\u5165journal</p><h3 id="spring-wings-faceless-enabled-enumi18n" tabindex="-1"><a class="header-anchor" href="#spring-wings-faceless-enabled-enumi18n" aria-hidden="true">#</a> spring.wings.faceless.enabled.enumi18n</h3><p><code>Boolean</code>=<code>false</code>\uFF0C\u662F\u5426\u6CE8\u5165StandardI18nService</p><h2 id="_2i-2-spring-hikari-79-properties" tabindex="-1"><a class="header-anchor" href="#_2i-2-spring-hikari-79-properties" aria-hidden="true">#</a> 2I.2.spring-hikari-79.properties</h2><p>\u4E3Aspring.datasource.hikari\u63D0\u4F9B\u4EE5\u4E0B\u914D\u7F6E</p><ul><li><code>spring.datasource.hikari.pool-name</code>=<code>wings-hikari-cp</code></li><li><code>spring.datasource.hikari.maximum-pool-size</code>=<code>20</code></li><li><code>spring.datasource.hikari.auto-commit</code>=<code>true</code></li><li><code>spring.datasource.hikari.connection-timeout</code>=<code>30000</code></li><li><code>spring.datasource.hikari.idle-timeout</code>=<code>600000</code></li><li><code>spring.datasource.hikari.max-lifetime</code>=<code>1800000</code></li><li><code>spring.datasource.hikari.leak-detection-threshold</code>=<code>15000</code></li></ul><h2 id="_2i-3-wings-flywave-fit-79-properties" tabindex="-1"><a class="header-anchor" href="#_2i-3-wings-flywave-fit-79-properties" aria-hidden="true">#</a> 2I.3.wings-flywave-fit-79.properties</h2><p>\u901A\u8FC7flywave\u5BF9faceless-id-log\u4F9D\u8D56\u7684\u505A\u6570\u636E\u5E93\u7248\u672C\u68C0\u67E5\u3002</p><h3 id="wings-faceless-flywave-fit-faceless-id-log-path" tabindex="-1"><a class="header-anchor" href="#wings-faceless-flywave-fit-faceless-id-log-path" aria-hidden="true">#</a> wings.faceless.flywave.fit.faceless-id-log.path</h3><p><code>Set&lt;String&gt;</code>=<code>classpath*:/wings-flywave/master/01-light/*.sql</code></p><p>sql\u626B\u63CFpattern\uFF0C\u9017\u53F7\u5206\u9694\u3002PathMatchingResourcePatternResolver\u683C\u5F0F</p><h3 id="wings-faceless-flywave-fit-faceless-id-log-revi" tabindex="-1"><a class="header-anchor" href="#wings-faceless-flywave-fit-faceless-id-log-revi" aria-hidden="true">#</a> wings.faceless.flywave.fit.faceless-id-log.revi</h3><p><code>Set&lt;String&gt;</code>=<code>2019_0520_01L</code>\u3002revision\uFF0C\u9017\u53F7\u5206\u9694\u3002</p><h3 id="wings-faceless-flywave-fit-faceless-id-log-lost" tabindex="-1"><a class="header-anchor" href="#wings-faceless-flywave-fit-faceless-id-log-lost" aria-hidden="true">#</a> wings.faceless.flywave.fit.faceless-id-log.lost</h3><p><code>String</code>=<code>WARN</code>\u3002<code>SKIP</code>-\u8DF3\u8FC7|<code>WARN</code>-\u8B66\u544A|<code>FAIL</code>-\u5F02\u5E38|<code>EXEC</code>-\u5F3A\u5236\u6267\u884C</p><p>\u8865\u6F0F\u884C\u4E3A\uFF0C\u4EFB\u4E00\u6307\u5B9Arevi\u672A\u5E94\u7528\u65F6\uFF0C\u53EA\u5347\u7EA7\u4E0D\u80FD\u964D\u7EA7\uFF0C\u907F\u514D\u5371\u9669\u7684\u5220\u9664\u52A8\u4F5C</p><h2 id="_2i-4-wings-lightid-79-properties" tabindex="-1"><a class="header-anchor" href="#_2i-4-wings-lightid-79-properties" aria-hidden="true">#</a> 2I.4.wings-lightid-79.properties</h2><p>\u5BF9\u5206\u5E03\u5F0F\u4E3B\u952Elightid\u7684\u8BBE\u7F6E\u3002\u9ED8\u8BA4\u4E8B\u52A1\u7EA7\u522B\uFF0CPropagation.REQUIRES_NEW</p><h3 id="wings-faceless-lightid-insert-auto" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-insert-auto" aria-hidden="true">#</a> wings.faceless.lightid.insert.auto</h3><p><code>Boolean</code>=<code>true</code>\uFF0C\u5F53\u524Dname\u548Cblock\u7684id\u4E0D\u5B58\u5728\u65F6\uFF0C\u63D2\u5165\u8FD8\u662F\u5F02\u5E38\u3002</p><h3 id="wings-faceless-lightid-insert-next" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-insert-next" aria-hidden="true">#</a> wings.faceless.lightid.insert.next</h3><p><code>Long</code>=1000,\u81EA\u52A8insert\u65F6\u7684\u9996\u503C\uFF0C\u5EFA\u8BAE1000\u8D77\uFF0C\u4E4B\u4E0B\u4E3A\u624B\u52A8\u751F\u6210\u3002</p><h3 id="wings-faceless-lightid-insert-step" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-insert-step" aria-hidden="true">#</a> wings.faceless.lightid.insert.step</h3><p><code>Long</code>=100\uFF0C\u81EA\u52A8insert\u65F6\u7684\u6B65\u957F\u3002</p><h3 id="wings-faceless-lightid-loader-timeout" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-loader-timeout" aria-hidden="true">#</a> wings.faceless.lightid.loader.timeout</h3><p><code>Long</code>=5000\uFF0C\u52A0\u8F7D\u65F6\u89C6\u4E3A\u8D85\u65F6\u7684\u6BEB\u79D2\u6570</p><h3 id="wings-faceless-lightid-loader-max-error" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-loader-max-error" aria-hidden="true">#</a> wings.faceless.lightid.loader.max-error</h3><p><code>Integer</code>=5\uFF0C\u52A0\u8F7D\u9519\u8BEF\u65F6\u6700\u5927\u5C1D\u8BD5\u6B21\u6570</p><h3 id="wings-faceless-lightid-loader-max-count" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-loader-max-count" aria-hidden="true">#</a> wings.faceless.lightid.loader.max-count</h3><p><code>Integer</code>=10000\uFF0C\u52A0\u8F7D\u6210\u529F\u52A0\u8F7D\u7684\u6700\u5927\u6570\u91CF</p><h3 id="wings-faceless-lightid-loader-err-alive" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-loader-err-alive" aria-hidden="true">#</a> wings.faceless.lightid.loader.err-alive</h3><p><code>Long</code>=120000\uFF0C\u9519\u8BEF\u5B58\u5728\u6BEB\u79D2\u6570\uFF0C\u671F\u95F4\u4E0D\u5C1D\u8BD5\u3002</p><h3 id="wings-faceless-lightid-provider-block-type" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-block-type" aria-hidden="true">#</a> wings.faceless.lightid.provider.block-type</h3><p><code>String</code>=<code>sql</code>\uFF0CblockId\u63D0\u4F9B\u65B9\u6CD5</p><ul><li><code>sql</code> - \u67E5\u8BE2\u6570\u636E\u5E93\uFF0C\u552F\u4E00\u8FD4\u56DE\u503C\u4E3Aid</li><li><code>fix</code> - \u56FA\u5B9A\u6570\u5B57\uFF0Cint</li><li><code>biz</code> - \u4F7F\u7528\u81EA\u5B9A\u4E49\u7684\u4E1A\u52A1Bean</li></ul><h3 id="wings-faceless-lightid-provider-block-para" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-block-para" aria-hidden="true">#</a> wings.faceless.lightid.provider.block-para</h3><p><code>String</code>\uFF0C\u63D0\u4F9B\u65B9\u5F0F\u7684\u53C2\u6570\uFF0Csql\u65F6\u4E3Aselect\uFF0Cfix\u4E3A\u6570\u5B57\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> block_id
<span class="token keyword">FROM</span> sys_light_sequence 
<span class="token keyword">WHERE</span> seq_name <span class="token operator">=</span> <span class="token string">&#39;singleton_lightid_blockid&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="wings-faceless-lightid-provider-sequence-insert" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-sequence-insert" aria-hidden="true">#</a> wings.faceless.lightid.provider.sequence-insert</h3><p><code>String</code>\uFF0C\u63D2\u5165\u8BED\u53E5\u3002JdbcTemplate\u7684sql\uFF0C</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> sys_light_sequence
<span class="token punctuation">(</span>seq_name<span class="token punctuation">,</span> block_id<span class="token punctuation">,</span> next_val<span class="token punctuation">,</span> step_val<span class="token punctuation">,</span> comments<span class="token punctuation">)</span> 
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span>?<span class="token punctuation">,</span>?<span class="token punctuation">,</span>?<span class="token punctuation">,</span>?<span class="token punctuation">,</span>?<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BE6\u89C1<code>LightSequenceModifyJdbc</code>\uFF0C\u53C2\u6570\u5206\u522B\u662F\uFF0C</p><ul><li><code>String</code> seq_name - \u5E8F\u5217\u540D</li><li><code>int</code> block_id - \u6570\u636E\u5757id</li><li><code>long</code> next_val - \u4E0B\u4E00\u4E2Aseq</li><li><code>int</code> step_val - \u6B65\u957F</li><li><code>String</code> comments - \u8BF4\u660E</li></ul><h3 id="wings-faceless-lightid-provider-sequence-update" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-sequence-update" aria-hidden="true">#</a> wings.faceless.lightid.provider.sequence-update</h3><p><code>String</code>\uFF0C\u66F4\u65B0\u8BED\u53E5\u3002JdbcTemplate\u7684sql\uFF0C</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> sys_light_sequence 
<span class="token keyword">SET</span> next_val<span class="token operator">=</span>? 
<span class="token keyword">WHERE</span> block_id<span class="token operator">=</span>? <span class="token operator">AND</span> seq_name<span class="token operator">=</span>? <span class="token operator">AND</span> next_val<span class="token operator">=</span>?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BE6\u89C1<code>LightSequenceModifyJdbc</code>\uFF0C\u53C2\u6570\u5206\u522B\u662F\uFF0C</p><ul><li><code>long</code> next_val_new - \u65B0\u7684seq\u503C</li><li><code>int</code> block_id - \u6570\u636E\u5757id</li><li><code>String</code> seq_name - \u5E8F\u5217\u540D</li><li><code>long</code> next_val_old - \u65E7\u7684seq\u503C</li></ul><h3 id="wings-faceless-lightid-provider-sequence-get-one" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-sequence-get-one" aria-hidden="true">#</a> wings.faceless.lightid.provider.sequence-get-one</h3><p><code>String</code>\uFF0C\u5355\u6B21\u83B7\u53D6\u3002JdbcTemplate\u7684sql\uFF0C</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> next_val<span class="token punctuation">,</span> step_val 
<span class="token keyword">FROM</span> sys_light_sequence 
<span class="token keyword">WHERE</span> block_id<span class="token operator">=</span>? <span class="token operator">AND</span> seq_name<span class="token operator">=</span>? <span class="token keyword">FOR</span> <span class="token keyword">UPDATE</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BE6\u89C1<code>LightSequenceSelectJdbc</code>\uFF0C\u53C2\u6570\u5206\u522B\u662F\uFF0C</p><ul><li><code>int</code> block_id - \u6570\u636E\u5757id</li><li><code>String</code> seq_name - \u5E8F\u5217\u540D</li></ul><h3 id="wings-faceless-lightid-provider-sequence-get-all" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-sequence-get-all" aria-hidden="true">#</a> wings.faceless.lightid.provider.sequence-get-all</h3><p><code>String</code>\uFF0C\u5168\u90E8\u83B7\u53D6\u3002JdbcTemplate\u7684sql\uFF0C</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> seq_name<span class="token punctuation">,</span> next_val<span class="token punctuation">,</span> step_val 
<span class="token keyword">FROM</span> sys_light_sequence 
<span class="token keyword">WHERE</span> block_id<span class="token operator">=</span>? <span class="token keyword">FOR</span> <span class="token keyword">UPDATE</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8BE6\u89C1<code>LightSequenceSelectJdbc</code>\uFF0C\u53C2\u6570\u5206\u522B\u662F\uFF0C</p><ul><li><code>int</code> block_id - \u6570\u636E\u5757id</li></ul><h3 id="wings-faceless-lightid-provider-sequence-adjust" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-provider-sequence-adjust" aria-hidden="true">#</a> wings.faceless.lightid.provider.sequence-adjust</h3><p><code>String</code>\uFF0C\u5C1D\u8BD5\u6821\u9A8C\u5E76\u8C03\u6574\u6570\u636E\u5E93\u4E2Did\uFF0C\u4F7F\u5176\u6B63\u786E\u3002\u8BBE\u7F6E\u4E3A<code>\u2205</code>\uFF0C\u8868\u793A\u5FFD\u7565\u6B64\u529F\u80FD\u3002</p><div class="language-sql ext-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> table_name<span class="token punctuation">,</span> column_name 
<span class="token keyword">FROM</span> INFORMATION_SCHEMA<span class="token punctuation">.</span><span class="token keyword">COLUMNS</span> 
<span class="token keyword">WHERE</span> table_schema <span class="token operator">=</span> <span class="token keyword">DATABASE</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 
<span class="token operator">AND</span> UPPER<span class="token punctuation">(</span>column_key<span class="token punctuation">)</span> <span class="token operator">=</span> <span class="token string">&#39;PRI&#39;</span> 
<span class="token operator">AND</span> UPPER<span class="token punctuation">(</span>column_type<span class="token punctuation">)</span> <span class="token operator">like</span> <span class="token string">&#39;%INT%&#39;</span> 
<span class="token operator">AND</span> table_name <span class="token operator">=</span> ?
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u8F93\u5165<code>\u8868\u540D</code>\uFF08\u4F5C\u4E3A\u5E8F\u5217\u540D\uFF09\uFF0C\u8FD4\u56DE\u6570\u636E\u5E93\u4E2D\u7684<code>\u8868\u540D</code>\u548C<code>\u5217\u540D</code>\u3002</p><h3 id="wings-faceless-lightid-layout-block-bits" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-layout-block-bits" aria-hidden="true">#</a> wings.faceless.lightid.layout.block-bits</h3><p><code>Integer</code>=<code>\u2205</code>\uFF0C\u8BBE\u7F6Eblock\u5B57\u8282\u6570\uFF0C\u8303\u56F4[3,23]\uFF0C\u914D\u7F6E\u9879\u9ED8\u8BA4\u7A7A\u3002LightId\u9ED8\u8BA4\u4E3A9\uFF0C2^9=512\u4E2A\u533A</p><h3 id="wings-faceless-lightid-layout-block-first" tabindex="-1"><a class="header-anchor" href="#wings-faceless-lightid-layout-block-first" aria-hidden="true">#</a> wings.faceless.lightid.layout.block-first</h3><p><code>Boolean</code>=<code>\u2205</code>\uFF0C\u5E8F\u5217\u5E03\u5C40\uFF0C\u662F\u5426Block\u5148\u4E8ESequence\uFF0C\u914D\u7F6E\u9879\u9ED8\u8BA4\u7A7A\u3002LightId\u9ED8\u8BA4\u4E3Atrue</p>`,73),l=[d];function c(o,t){return s(),a("div",null,l)}const h=e(n,[["render",c],["__file","2i-prop-faceless.html.vue"]]);export{h as default};
