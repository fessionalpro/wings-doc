import{_ as i}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as s,o as r,c,b as e,e as t,d as n,f as o}from"./app.617bcbf8.js";const l={},d=o('<h1 id="_4a-\u96C6\u6210\u767B\u5F55" tabindex="-1"><a class="header-anchor" href="#_4a-\u96C6\u6210\u767B\u5F55" aria-hidden="true">#</a> 4A.\u96C6\u6210\u767B\u5F55</h1><p>\u652F\u6301\u591A\u79CD\u767B\u5F55\uFF0C\u5982\u7528\u6237\u540D\u5BC6\u7801\uFF0CBasic\u6269\u5C55\uFF0COauth\u7B2C\u4E09\u65B9\u7B49\uFF0C\u53EF\u4EE5\u5B89\u5168\u4E14\u65B9\u4FBF\u7684\u63A7\u5236\u7528\u6237\u6765\u6E90\u3002</p><h2 id="_4a-1-\u96C6\u6210github" tabindex="-1"><a class="header-anchor" href="#_4a-1-\u96C6\u6210github" aria-hidden="true">#</a> 4A.1.\u96C6\u6210Github</h2><p>\u56E0\u4E3AGithub\u6700\u5E7F\u6CDB\u4E5F\u6700\u7B80\u5355\uFF0C\u4EE5\u5176\u4F5C\u4E3AOauth\u767B\u5F55\u7684\u6F14\u793A\u3002</p><p>\u5728Github\u4E0A\u8BBE\u7F6E\u5E76\u8BB0\u4E0B<code>App ID</code>\uFF0C<code>Client ID</code>\u548C<code>Client secret</code>\uFF0C\u6CE8\u610F\u4E0D\u8981\u5916\u6CC4\u3002 \u8BBE\u7F6E\u5165\u53E3\u4E3A <code>Settings</code> | <code>Developer settings</code> | <code>GitHub Apps</code></p>',5),p={href:"http://localhost:8084",target:"_blank",rel:"noopener noreferrer"},h={href:"http://localhost:8084/auth/github/login.json",target:"_blank",rel:"noopener noreferrer"},u=o('<h2 id="_4a-2-\u662F401\u8FD8\u662F302" tabindex="-1"><a class="header-anchor" href="#_4a-2-\u662F401\u8FD8\u662F302" aria-hidden="true">#</a> 4A.2.\u662F401\u8FD8\u662F302</h2><p>\u5F53\u53D1\u751F\u7981\u6B62\u8BBF\u95EE<code>UNAUTHORIZED</code>\u65F6\uFF0Cspring\u4F1A\u629B\u51FAAccessDeniedException\uFF0C \u518D\u7531ExceptionTranslationFilter\u9009\u62E9\u5408\u9002\u7684AuthenticationEntryPoint\u3002</p><p>wings\u4E2D\uFF0C\u9ED8\u8BA4\u5B58\u57282\u4E2AAuthenticationEntryPoint\uFF0C</p><ul><li>LoginUrlAuthenticationEntryPoint - \u7528\u6237\u4FA7\u7684\u901A\u5E38\u767B\u5F55</li><li>BasicAuthenticationEntryPoint - \u76D1\u63A7\u4FA7\u7684basic\u9A8C\u8BC1</li></ul><p>LoginUrl\u53EF\u4EE5\u901A\u8FC7\u8BBE\u7F6Elogin-forward\uFF0C\u9009\u62E9\u4EE5\u4F55\u79CD\u5F62\u5F0F\u63D0\u4F9B\u7ED9\u7528\u6237\u7AEF\u767B\u5F55\u3002</p><p>\u5728EntryPoint\u7684\u9009\u62E9\u4E0A\uFF0C\u53EF\u4EE5\u8BBE\u7F6E<code>http header</code>\u6765\u6EE1\u8DB3\u7279\u5B9A\u7684\u5339\u914D\u89C4\u5219\u3002 \u4EE5\u4E0B\u8BBE\u7F6E\u53EF\u8DF3\u8FC7basic\u9A8C\u8BC1\u89C4\u5219\uFF0C\u8BE6\u89C1 HttpBasicConfigurer.registerDefaults</p><ul><li>\u4E0D\u542B<code>X-Requested-With: XMLHttpRequest</code> header</li><li><code>Accept</code>\u4E2D\u5305\u62EC\u4EE5\u4E0B\u4EFB\u610F\u503C <ul><li>application/xhtml+xml</li><li>image/*</li><li>text/html</li><li>text/plain</li></ul></li></ul><h2 id="_4a-3-openapi3\u7279\u70B9" tabindex="-1"><a class="header-anchor" href="#_4a-3-openapi3\u7279\u70B9" aria-hidden="true">#</a> 4A.3.OpenAPI3\u7279\u70B9</h2><p>\u5728OpenAPI3\u7684\u89C4\u8303\u4E2D \u4E0D\u5141\u8BB8\u4FEE\u6539<code>Accept</code>\uFF0C<code>Content-Type</code>\u548C<code>Authorization</code></p>',9),g={href:"https://swagger.io/docs/specification/describing-parameters/#header-parameters",target:"_blank",rel:"noopener noreferrer"},_=o(`<blockquote><p>Note: Header parameters named Accept, Content-Type and Authorization are not allowed. To describe these headers, use the corresponding OpenAPI keywords:</p></blockquote><p>wings\u9ED8\u8BA4\u914D\u7F6Eswagger\uFF0C\u63D0\u4F9B\u4E86text\u548Cjson\u7C7B\u578B\uFF0C\u5206\u522B\u5BF9\u5E94LoginUrl\u548CBasic\u7684EntryPoint\u3002</p><p>swagger\u5728302\u65F6\u4F1A\u81EA\u52A8\u5BFC\u5411\u76EE\u6807\u9875\u9762\uFF0C\u6700\u7EC8\u4EE5200\u663E\u793A\u3002\u6B64\u8FC7\u7A0B\u53EF\u4EE5debug\u6216curl\u770B\u5230\u3002</p><div class="language-bash ext-sh line-numbers-mode"><pre class="language-bash"><code><span class="token function">curl</span> -vX <span class="token string">&#39;POST&#39;</span> <span class="token punctuation">\\</span>
  <span class="token string">&#39;http://localhost:8084/user/authed-user.json&#39;</span> <span class="token punctuation">\\</span>
  -H <span class="token string">&#39;accept: text/html&#39;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function b(m,f){const a=s("ExternalLinkIcon");return r(),c("div",null,[d,e("ul",null,[e("li",null,[t("Homepage URL - "),e("a",p,[t("http://localhost:8084"),n(a)])]),e("li",null,[t("Callback URL - "),e("a",h,[t("http://localhost:8084/auth/github/login.json"),n(a)])])]),u,e("p",null,[e("a",g,[t("https://swagger.io/docs/specification/describing-parameters/#header-parameters"),n(a)])]),_])}const k=i(l,[["render",b],["__file","4a-authn.html.vue"]]);export{k as default};
