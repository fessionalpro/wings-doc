import{_ as r}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as l,o as c,c as i,b as e,e as t,d as a,f as n}from"./app-D2c23tTX.js";const d={},s=e("h1",{id:"_2c-按需分表分库",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2c-按需分表分库"},[e("span",null,"2C.按需分表分库")])],-1),h=e("blockquote",null,[e("p",null,"对膨胀的数据增加一个状态，时间在此停止，分而治之，合而用之。")],-1),p=e("p",null,"使用ShardingJdbc完成数据的分表分库功能，平稳处理大数据量。 Wings使用shard广泛表示DataSharding，ReadWrite Splitting/Separation。",-1),_=e("h2",{id:"_2c-1-分表分库的不足",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2c-1-分表分库的不足"},[e("span",null,"2C.1.分表分库的不足")])],-1),m=e("code",null,"ShardingJdbc",-1),g=e("code",null,"journal",-1),u=e("code",null,"flywave",-1),f={href:"https://shardingsphere.apache.org/document/current/cn/features/sharding/principle/parse/",target:"_blank",rel:"noopener noreferrer"},D=e("p",null,[t("业务开始可能不必须考虑分表，当需要时，可使用"),e("code",null,"flywave"),t("工具生成表和迁移数据。 "),e("s",null,"DQL,DML,DDL,TCL,DAL,DCL,GENERAL中，DDL和DCL使用真实数据源，其他使用sharding数据源。"),t(" 默认下，DDL,DCL使用"),e("code",null,"plain数据源"),t("，DML等使用"),e("code",null,"shard数据源"),t("执行， 也可以手动指定数据源，以完成定制的数据操作。")],-1),E=e("h2",{id:"_2c-2-执行sql中的事项",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_2c-2-执行sql中的事项"},[e("span",null,"2C.2.执行SQL中的事项")])],-1),L={href:"https://dev.mysql.com/doc/refman/8.0/en/sql-syntax-data-definition.html",target:"_blank",rel:"noopener noreferrer"},S=n("<ul><li><code>ALTER TABLE</code></li><li><code>CREATE INDEX</code></li><li><code>CREATE TABLE</code></li><li><code>CREATE TRIGGER</code></li><li><code>DROP INDEX</code></li><li><code>DROP TABLE</code> 只可以一次一个table</li><li><code>DROP TRIGGER</code> 需要手动指定本表，系统根据本表和分表命名规则执行</li><li><code>TRUNCATE TABLE</code></li></ul><p>其中，除系统为<code>journal</code>生成的trigger外，手写删除容易出现数据不一致。</p>",2),C={href:"https://dev.mysql.com/doc/refman/8.0/en/sql-syntax-data-manipulation.html",target:"_blank",rel:"noopener noreferrer"},y=n("<ul><li><code>DELETE</code></li><li><code>INSERT</code></li><li><code>REPLACE</code></li><li><code>UPDATE</code></li></ul><p>以上类型之外的SQL，请使用注解来强制指定<code>数据源</code>和<code>本表名</code>，跳过SQL自动解析。 理论上，不应该使用flywave执行DDL,DCL和DML之外的SQL，不属于版本管理范围。</p>",2);function T(R,A){const o=l("ExternalLinkIcon");return c(),i("div",null,[s,h,p,_,e("p",null,[t("因为"),m,t("在执行SCHEMA变更时，存在一定的SQL解析问题(index,trigger)， 所以在做SCHEMA和"),g,t("功能时，使用普通数据源，通过"),u,t("完成。 "),e("a",f,[t("参考SQL解析引擎"),a(o)])]),D,E,e("p",null,[e("a",L,[t("DDL - Data Definition Statements"),a(o)])]),S,e("p",null,[e("a",C,[t("DML - Data Manipulation Statements"),a(o)])]),y])}const N=r(d,[["render",T],["__file","2c-shard.html.vue"]]),k=JSON.parse('{"path":"/zh/2-faceless/2c-shard.html","title":"2C.按需分表分库","lang":"zh-CN","frontmatter":{"isOriginal":true,"icon":"tree","category":["虚空","分表"],"description":"2C.按需分表分库 对膨胀的数据增加一个状态，时间在此停止，分而治之，合而用之。 使用ShardingJdbc完成数据的分表分库功能，平稳处理大数据量。 Wings使用shard广泛表示DataSharding，ReadWrite Splitting/Separation。 2C.1.分表分库的不足 因为ShardingJdbc在执行SCHEMA变更时...","GIT_REPO_HEAD":"2024-06-10 b1ec3d73a48e6ec52c12b931d1822da253f48375","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://wings.fessional.pro/2-faceless/2c-shard.html"}],["meta",{"property":"og:url","content":"https://wings.fessional.pro/zh/2-faceless/2c-shard.html"}],["meta",{"property":"og:site_name","content":"WingsBoot 纹丝不忒"}],["meta",{"property":"og:title","content":"2C.按需分表分库"}],["meta",{"property":"og:description","content":"2C.按需分表分库 对膨胀的数据增加一个状态，时间在此停止，分而治之，合而用之。 使用ShardingJdbc完成数据的分表分库功能，平稳处理大数据量。 Wings使用shard广泛表示DataSharding，ReadWrite Splitting/Separation。 2C.1.分表分库的不足 因为ShardingJdbc在执行SCHEMA变更时..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2023-06-18T08:37:26.000Z"}],["meta",{"property":"article:author","content":"trydofor"}],["meta",{"property":"article:modified_time","content":"2023-06-18T08:37:26.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"2C.按需分表分库\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2023-06-18T08:37:26.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"trydofor\\",\\"url\\":\\"https://www.trydofor.com\\"}]}"]]},"headers":[{"level":2,"title":"2C.1.分表分库的不足","slug":"_2c-1-分表分库的不足","link":"#_2c-1-分表分库的不足","children":[]},{"level":2,"title":"2C.2.执行SQL中的事项","slug":"_2c-2-执行sql中的事项","link":"#_2c-2-执行sql中的事项","children":[]}],"git":{"createdTime":1687077446000,"updatedTime":1687077446000,"contributors":[{"name":"trydofor","email":"trydofor@gmail.com","commits":1}]},"readingTime":{"minutes":1.32,"words":396},"filePathRelative":"zh/2-faceless/2c-shard.md","localizedDate":"2023年6月18日","autoDesc":true}');export{N as comp,k as data};
