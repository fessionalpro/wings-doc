import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{c as l,d as s,b as a,e,f as o,w as r,r as h,o as d}from"./app-B3mmVXA7.js";const p={};function k(c,i){const t=h("RouteLink");return d(),l("div",null,[i[3]||(i[3]=s("h1",{id:"_9a3-upgrade-2-7-7-220",tabindex:"-1"},[s("a",{class:"header-anchor",href:"#_9a3-upgrade-2-7-7-220"},[s("span",null,"9A3.Upgrade 2.7.7.220")])],-1)),i[4]||(i[4]=s("p",null,"Upgraded build 210 to 220, this is the transition version of 3.0, should not stay for a long time.",-1)),s("ul",null,[i[2]||(i[2]=a('<li>boot <code>2.7</code> instead of <code>2.6</code>, <a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-2.7-Release-Notes" target="_blank" rel="noopener noreferrer">Release Notes</a></li><li>Remove javax to jakarta interference, eg. persistence and validation</li><li>rename faceless-jooqgen to faceless-codegen</li><li>add <code>spring.</code> prefix to <code>wings.tiny.*.enabled.</code></li><li>cache2k instead of caffeine, cache.nulls split into null-live and null-size</li>',5)),s("li",null,[i[1]||(i[1]=e("check ",-1)),o(t,{to:"/9-example/9a.wings-change/9a0.notable.html"},{default:r(()=>[...i[0]||(i[0]=[e("wings notable changelog",-1)])]),_:1})])]),i[5]||(i[5]=a(`<h2 id="_9a3-1-modify-pom-xml" tabindex="-1"><a class="header-anchor" href="#_9a3-1-modify-pom-xml"><span>9A3.1.Modify pom.xml</span></a></h2><p>Change version to <code>2.7.7.220-SNAPSHOT</code></p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;pro.fessional&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;wings&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;2.7.7.220-SNAPSHOT&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">version</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">parent</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9a3-2-rework-autogen" tabindex="-1"><a class="header-anchor" href="#_9a3-2-rework-autogen"><span>9A3.2.Rework Autogen</span></a></h2><p>JooqGen in wings is configured with javax persistence and validation annotations by default. In reality, this does nothing but increase the identifiability of the code, but it is involved in the revolution of javax renaming to jakarta.</p><p>All automatically generated code in their respective <code>/java-gen</code> src, which are invoked by <code>AutogenDependencyTest</code> in the devs-mvndep module.</p><h3 id="_2a-test00dropallandinit" tabindex="-1"><a class="header-anchor" href="#_2a-test00dropallandinit"><span>2a.test00DropAllAndInit()</span></a></h3><p>Initialize the database and prepare the data for subsequent code generation.</p><h3 id="_2b-test01alltestcode" tabindex="-1"><a class="header-anchor" href="#_2b-test01alltestcode"><span>2b.test01AllTestCode()</span></a></h3><p>Jooq&#39;s own tests and examples, including the following,</p><ul><li>test11FacelessJooqTest - faceless-jooq</li><li>test11FacelessShardTest - faceless-shard</li></ul><h3 id="_2c-test01allmaincode" tabindex="-1"><a class="header-anchor" href="#_2c-test01allmaincode"><span>2c.test01AllMainCode()</span></a></h3><p>The formal dependencies for the Jooq business tables, packaged with the main project, include the following</p><ul><li>test10FacelessAutogen - faceless/enums</li><li>test20WarlockAutogenEnum - warlock/enums</li><li>test20WarlockAutogenAuth - warlock/security</li><li>test21WarlockAutogenJooq - warlock/database</li><li>test31TinyMailAutogenJooq - tiny/mail</li><li>test31TinyTaskAutogenJooq - tiny/task</li></ul><h2 id="_9a3-3-wingsboot-user" tabindex="-1"><a class="header-anchor" href="#_9a3-3-wingsboot-user"><span>9A3.3.Wingsboot User</span></a></h2><p>Before the operation, commit the workspace and switch to a new branch so that you can control and cross the timeline. The important point is to regenerate the jooq code, the settings turn off the interference of namespace changes javax to jakarta</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jpaAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;false&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">jpaAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">validationAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;false&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">validationAnnotations</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>If a dependency problem occurs in the jooq code, you can temporarily add a dependency and then remove it after a successful redo.</p><div class="language-xml line-numbers-mode" data-highlighter="shiki" data-ext="xml" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-xml"><span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&lt;!-- javax.persistence --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.persistence&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.persistence-api&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#A0A1A7;--shiki-light-font-style:italic;--shiki-dark:#7F848E;--shiki-dark-font-style:italic;">&lt;!-- javax.validation.constraints --&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.validation&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">groupId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">    &lt;</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;jakarta.validation-api&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">artifactId</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&lt;/</span><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">dependency</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">&gt;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>if <code>javax.annotation.Generated</code> not found, use <code>javax.annotation.processing.Generated</code> instead.</li><li>if got <code>*Dao.java</code> deleted, and <code>Skipping DAO generation</code> message, please set PrimaryKey to the table.</li></ul>`,20))])}const A=n(p,[["render",k]]),u=JSON.parse('{"path":"/9-example/9a.wings-change/9a3.277-220.html","title":"9A3.Upgrade 2.7.7.220","lang":"en-US","frontmatter":{"isOriginal":true,"icon":"circle-up","category":["Practice","Upgrade"],"description":"9A3.Upgrade 2.7.7.220 Upgraded build 210 to 220, this is the transition version of 3.0, should not stay for a long time. boot 2.7 instead of 2.6, Release Notes Remove javax to j...","GIT_REPO_HEAD":"2025-09-01 bf16720a95aa32d38b537cc338e086dd2483e52b\\n","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"9A3.Upgrade 2.7.7.220\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-06-12T00:21:52.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"trydofor\\",\\"url\\":\\"https://www.trydofor.com\\"}]}"],["meta",{"property":"og:url","content":"https://wings.fessional.pro/9-example/9a.wings-change/9a3.277-220.html"}],["meta",{"property":"og:site_name","content":"WingsBoot Win Sprint"}],["meta",{"property":"og:title","content":"9A3.Upgrade 2.7.7.220"}],["meta",{"property":"og:description","content":"9A3.Upgrade 2.7.7.220 Upgraded build 210 to 220, this is the transition version of 3.0, should not stay for a long time. boot 2.7 instead of 2.6, Release Notes Remove javax to j..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"en-US"}],["meta",{"property":"og:locale:alternate","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-06-12T00:21:52.000Z"}],["meta",{"property":"article:modified_time","content":"2024-06-12T00:21:52.000Z"}],["link",{"rel":"alternate","hreflang":"zh-cn","href":"https://wings.fessional.pro/zh/9-example/9a.wings-change/9a3.277-220.html"}]]},"git":{"createdTime":1674094784000,"updatedTime":1718151712000,"contributors":[{"name":"trydofor","username":"trydofor","email":"trydofor@gmail.com","commits":14,"url":"https://github.com/trydofor"}]},"readingTime":{"minutes":1.12,"words":335},"filePathRelative":"9-example/9a.wings-change/9a3.277-220.md","autoDesc":true}');export{A as comp,u as data};
