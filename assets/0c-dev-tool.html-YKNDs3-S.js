import{_ as l}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as i,o,c as r,b as e,e as n,d as t,f as s}from"./app-RvkmO4dA.js";const c={},p=s(`<h1 id="_0c-开发工具" tabindex="-1"><a class="header-anchor" href="#_0c-开发工具"><span>0C.开发工具</span></a></h1><p>工欲善其事，必先利其器，推荐的工具及配置。</p><h2 id="_0c-1-java开发" tabindex="-1"><a class="header-anchor" href="#_0c-1-java开发"><span>0C.1.Java开发</span></a></h2><p>使用<code>IntelliJIdea</code>作为开发<code>IDE</code>，可使用<code>code style</code>和<code>live templates</code>。</p><ul><li><code>wings-idea-style.xml</code>在<code>Setting/Editor/Code Style</code>导入。</li><li><code>wings-idea-live.xml</code>需要手动放到<code>$config/templates/</code>，没有则新建。</li></ul><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token builtin class-name">cd</span> wings
<span class="token assign-left variable">id_config</span><span class="token operator">=~</span>/Library/ApplicationSupport/JetBrains/IntelliJIdea2023.2
<span class="token comment"># 通过复制，备份</span>
<span class="token function">cat</span> <span class="token variable">$id_config</span>/templates/wings.xml <span class="token operator">&gt;</span> wings-idea-live.xml
<span class="token function">cat</span> <span class="token variable">$id_config</span>/codestyles/Wings-Idea.xml <span class="token operator">&gt;</span> wings-idea-style.xml
<span class="token comment"># 通过复制，还原</span>
<span class="token function">cat</span> wings-idea-live.xml  <span class="token operator">&gt;</span> <span class="token variable">$id_config</span>/templates/wings.xml
<span class="token function">cat</span> wings-idea-style.xml <span class="token operator">&gt;</span> <span class="token variable">$id_config</span>/codestyles/Wings-Idea.xml
<span class="token comment"># 若重新导入工程，清除idea配置</span>
<span class="token function">find</span> <span class="token builtin class-name">.</span> <span class="token parameter variable">-name</span> <span class="token string">&#39;*.iml&#39;</span> <span class="token parameter variable">-o</span> <span class="token parameter variable">-name</span> <span class="token string">&#39;.idea&#39;</span> <span class="token operator">|</span> <span class="token function">tr</span> <span class="token string">&#39;\\n&#39;</span> <span class="token string">&#39;\\0&#39;</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-0</span> <span class="token function">rm</span> <span class="token parameter variable">-r</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>关于live-template的使用，分为Insert和Surround，对应插入和编辑，一般选择文本时， <code>Surround... ⌥⌘J</code>，无选择文本时，使用 <code>Insert... ⌘J</code></p><ul><li>WIN <code>%HOMEPATH%\\.IntelliJIdea2023.2\\config</code></li><li>LIN <code>~/.IntelliJIdea2023.2/config</code></li><li>MAC <code>~/Library/Preferences/IntelliJIdea2023.2</code></li><li>MAC <code>~/Library/ApplicationSupport/JetBrains/IntelliJIdea2023.2</code></li></ul><p>参考资料</p>`,9),d={href:"https://www.jetbrains.com/help/idea/sharing-live-templates.html",target:"_blank",rel:"noopener noreferrer"},m={href:"https://www.jetbrains.com/help/idea/tuning-the-ide.html#default-dirs",target:"_blank",rel:"noopener noreferrer"},h={href:"https://www.jetbrains.com/help/idea/2019.3/tuning-the-ide.html#default-dirs",target:"_blank",rel:"noopener noreferrer"},u=s(`<p>安装以下插件</p><ul><li>.ignore - 和版本管理中ignore有关的</li><li>Any2dto - 支持jooq, sql查询直接生成dto，减少复制和赋值</li><li>CheckStyle - 代码质量</li><li>Comments Highlighter - 注释中划重点</li><li>GenerateAllSetter - alt-enter 生成全部 po.setXxx(&quot;&quot;)</li><li>Git Flow Integration - 集成了git-flow</li><li>GitToolBox - 自动 fetch</li><li>Git Commit Guide - gitmoji.dev 辅助</li><li>Grep Console - 控制台的日志分颜色显示和过滤</li><li>Indent Rainbow - 使缩进有颜色</li><li>kotlin - 默认安装了</li><li>lombok - IntelliJ Lombok plugin</li><li>MapStruct Support - 静态强类型DTO转换，减少复制和赋值</li><li>Maven Helper - 帮助管理maven</li><li>Maven Dependency Checker - 检查依赖的最新版本</li><li>Quick File Preview - 单击快速浏览文件</li><li>Rainbow Brackets - 彩虹括号</li><li>Request mapper - 快速查找 mapping</li><li>Statistic - 统计一下自己的代码</li><li>String Manipulation - 对字符串的各种操作和转换</li><li>HTTP Client - 官方对<code>*.http</code>文件格式的支持</li><li>Test Management - 处理 <code>*.t.md</code></li></ul><h2 id="_0c-2-kotlin开发" tabindex="-1"><a class="header-anchor" href="#_0c-2-kotlin开发"><span>0C.2.Kotlin开发</span></a></h2><p>wings支持java和kotlin混合开发，但更主张优先写好java，以避免过渡语法糖及过于灵活。 所以，工程默认为java编译，以下任一条件，均可激活kotlin编译。</p><ul><li>自动激活 - 存在<code>src/test/kotlin</code>或<code>src/main/kotlin</code>时，分别激活</li><li>手动激活 - 指定<code>wings-kotlin-1test</code>或<code>wings-kotlin-2main</code></li><li>注意顺序，必须先test后main，如数字所示。因maven不支持多条件激活 MNG-5909</li></ul><p>当profile激活时，会生成<code>wings-kotlin-scope</code>属性，配置stdlib的scope为compile/test 检查当前项目是否激活kotlin，进入工程目录，执行一下mvn命令，</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 自动激活</span>
mvn help:active-profiles
<span class="token comment"># 手动激活，逗号分隔，不用有空白</span>
mvn help:active-profiles <span class="token parameter variable">-P</span> wings-kotlin-1test,wings-kotlin-2main
<span class="token comment"># 查看最终 pom.xml</span>
mvn help:effective-pom
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_0c-3-sql工具" tabindex="-1"><a class="header-anchor" href="#_0c-3-sql工具"><span>0C.3.SQL工具</span></a></h2>`,8),v={href:"https://www.mysql.com/products/workbench/",target:"_blank",rel:"noopener noreferrer"},g={href:"https://dbeaver.io",target:"_blank",rel:"noopener noreferrer"},b=e("li",null,"DataGrid - 支持颜色标识，数据优先的场景，如查询，局部导出等",-1),k=e("h2",{id:"_0c-4-文本工具",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_0c-4-文本工具"},[e("span",null,"0C.4.文本工具")])],-1),_=e("ul",null,[e("li",null,"VsCode - 前端，markdown等，不适应于大文件"),e("li",null,"Sublime - 文本处理")],-1),f=e("h2",{id:"_0c-5-http测试",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#_0c-5-http测试"},[e("span",null,"0C.5.Http测试")])],-1),w=e("p",null,[n("推荐在每个工程test下建立idea支持的 "),e("code",null,"*.http"),n(" 接口描述和测试脚本，官方文档如下")],-1),y={href:"https://www.jetbrains.com/help/idea/http-client-in-product-code-editor.html",target:"_blank",rel:"noopener noreferrer"},x={href:"https://www.jetbrains.com/help/idea/exploring-http-syntax.html",target:"_blank",rel:"noopener noreferrer"},C={href:"https://www.jetbrains.com/help/idea/http-response-handling-api-reference.html",target:"_blank",rel:"noopener noreferrer"},I={href:"https://www.jetbrains.com/help/idea/http-client-reference.html",target:"_blank",rel:"noopener noreferrer"},j={href:"https://www.jetbrains.com/help/idea/http-response-reference.html",target:"_blank",rel:"noopener noreferrer"},S=e("p",null,"使用建议如下",-1),T=s("<li>使用<code>*.http</code>时，通常先从chrome中抓取 cURL 命令，复制过来即可</li><li>变量<code>{{variable_name}}</code>，来自<code>http-client*.env.json</code>，<code>client.global.</code>或系统自带</li><li>处理Response. prepend it with <code>&gt;</code> and enclose it in <code>{%</code> <code>%}</code></li><li>很长的请求折多个短行. Indent all query string lines but the first one</li><li>HTTP Response Handler 的2个对象 client 和 response</li>",5),q={href:"https://www.jetbrains.com/help/idea/http-response-handling-examples.html",target:"_blank",rel:"noopener noreferrer"},J=s(`<h2 id="_0c-6-wings测试" tabindex="-1"><a class="header-anchor" href="#_0c-6-wings测试"><span>0C.6.Wings测试</span></a></h2><p>Wings的测试依赖于mysql服务，当前通过docker的compose自动启动，若无需docker， 可通过<code>spring.docker.compose.enabled=false</code>禁用。其默认的jdbc配置如下，</p><div class="language-properties line-numbers-mode" data-ext="properties" data-title="properties"><pre class="language-properties"><code><span class="token key attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:51487/wings_example\\
?connectionTimeZone=%2B08:00&amp;forceConnectionTimeZoneToSession=true\\
&amp;autoReconnect=true&amp;useSSL=false&amp;allowPublicKeyRetrieval=true\\
&amp;characterEncoding=UTF-8&amp;useUnicode=true</span>

<span class="token key attr-name">spring.datasource.username</span><span class="token punctuation">=</span><span class="token value attr-value">trydofor</span>
<span class="token key attr-name">spring.datasource.password</span><span class="token punctuation">=</span><span class="token value attr-value">moilioncircle</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>新的mysql服务器，需要完成以下准备，才能够使用。</p><ul><li>设置用户权限，访问wings数据库</li><li>创建空数据库，保证各模块数据隔离</li><li>初始化表结构，为sharding提供meta缓存</li></ul><p>具体执行方式，参考一下脚本及注释，</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment">## grant and create schema</span>
<span class="token comment"># observe/docker/mysql/init/*.sql</span>

<span class="token comment">## create table and data</span>
mvn <span class="token parameter variable">-pl</span> <span class="token string">&#39;:devs-codegen&#39;</span> <span class="token parameter variable">-am</span> <span class="token punctuation">\\</span>
-Ddevs-codegen.test.skip<span class="token operator">=</span>false <span class="token punctuation">\\</span>
-Ddevs-initdb<span class="token operator">=</span>true <span class="token punctuation">\\</span>
<span class="token parameter variable">-Dwings.test.skip</span><span class="token operator">=</span>true <span class="token punctuation">\\</span>
clean <span class="token builtin class-name">test</span>

<span class="token comment">## wings test and coverage</span>
mvn <span class="token parameter variable">-P</span> <span class="token string">&#39;coverage,!example&#39;</span> clean <span class="token builtin class-name">test</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_0c-7-git流程" tabindex="-1"><a class="header-anchor" href="#_0c-7-git流程"><span>0C.7.Git流程</span></a></h2><p>Git流程需要根据项目实际情况来选择，如提交频度，提交者数量等，主要因素有，</p><ul><li>可读性 - 线性历史的可读性最好</li><li>冲突少 - 开发中，快速查找，合并，Squash，回退</li><li>修复 - 发布后，容易修补bug</li></ul><p>提交时，建议Squash或rebase，减少无意义的提交，减少提交耦合度。</p><ul><li>一个提交，一个Issue，并通过单元测试</li><li>一次合并，一个功能，并通过集成测试</li></ul><p>业内常用的Git流程有，</p>`,13),D={href:"https://nvie.com/posts/a-successful-git-branching-model/",target:"_blank",rel:"noopener noreferrer"},G={href:"https://guides.github.com/introduction/flow/",target:"_blank",rel:"noopener noreferrer"},E={href:"https://www.endoflineblog.com/oneflow-a-git-branching-model-and-workflow",target:"_blank",rel:"noopener noreferrer"},L={href:"https://www.atlassian.com/git/tutorials/comparing-workflows/forking-workflow",target:"_blank",rel:"noopener noreferrer"},B={href:"https://trunkbaseddevelopment.com/",target:"_blank",rel:"noopener noreferrer"};function H(M,P){const a=i("ExternalLinkIcon");return o(),r("div",null,[p,e("ul",null,[e("li",null,[e("a",d,[n("sharing-live-templates"),t(a)])]),e("li",null,[e("a",m,[n("2020.1 and above versions"),t(a)])]),e("li",null,[e("a",h,[n("2019.3.x and below versions"),t(a)])])]),u,e("ul",null,[e("li",null,[e("a",v,[n("Mysql Workbench"),t(a)]),n(" - SQL优先的场景，如DDL，Admin，权限等")]),e("li",null,[e("a",g,[n("DBeaver"),t(a)]),n(" - 支持颜色标识，eclipse风格")]),b]),k,_,f,w,e("ul",null,[e("li",null,[e("a",y,[n("https://www.jetbrains.com/help/idea/http-client-in-product-code-editor.html"),t(a)])]),e("li",null,[e("a",x,[n("https://www.jetbrains.com/help/idea/exploring-http-syntax.html"),t(a)])]),e("li",null,[e("a",C,[n("https://www.jetbrains.com/help/idea/http-response-handling-api-reference.html"),t(a)])]),e("li",null,[e("a",I,[n("https://www.jetbrains.com/help/idea/http-client-reference.html"),t(a)])]),e("li",null,[e("a",j,[n("https://www.jetbrains.com/help/idea/http-response-reference.html"),t(a)])])]),S,e("ul",null,[T,e("li",null,[e("a",q,[n("https://www.jetbrains.com/help/idea/http-response-handling-examples.html"),t(a)])])]),J,e("ul",null,[e("li",null,[e("a",D,[n("GitFlow"),t(a)])]),e("li",null,[e("a",G,[n("GitHub Flow"),t(a)])]),e("li",null,[e("a",E,[n("OneFlow"),t(a)])]),e("li",null,[e("a",L,[n("Forking Workflow"),t(a)])]),e("li",null,[e("a",B,[n("Trunk-Based Development"),t(a)])])])])}const R=l(c,[["render",H],["__file","0c-dev-tool.html.vue"]]),W=JSON.parse('{"path":"/zh/0-wings/0c-dev-tool.html","title":"0C.开发工具","lang":"zh-CN","frontmatter":{"isOriginal":true,"icon":"tool","category":["神翼","工具"],"description":"0C.开发工具 工欲善其事，必先利其器，推荐的工具及配置。 0C.1.Java开发 使用IntelliJIdea作为开发IDE，可使用code style和live templates。 wings-idea-style.xml在Setting/Editor/Code Style导入。 wings-idea-live.xml需要手动放到$config/...","GIT_REPO_HEAD":"2024-02-16 3fdd45de377187002fd49a06332fb14346c10eb1","head":[["link",{"rel":"alternate","hreflang":"en-us","href":"https://wings.fessional.pro/0-wings/0c-dev-tool.html"}],["meta",{"property":"og:url","content":"https://wings.fessional.pro/zh/0-wings/0c-dev-tool.html"}],["meta",{"property":"og:site_name","content":"WingsBoot 纹丝不忒"}],["meta",{"property":"og:title","content":"0C.开发工具"}],["meta",{"property":"og:description","content":"0C.开发工具 工欲善其事，必先利其器，推荐的工具及配置。 0C.1.Java开发 使用IntelliJIdea作为开发IDE，可使用code style和live templates。 wings-idea-style.xml在Setting/Editor/Code Style导入。 wings-idea-live.xml需要手动放到$config/..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:locale:alternate","content":"en-US"}],["meta",{"property":"og:updated_time","content":"2024-02-01T02:31:14.000Z"}],["meta",{"property":"article:author","content":"trydofor"}],["meta",{"property":"article:modified_time","content":"2024-02-01T02:31:14.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"0C.开发工具\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-02-01T02:31:14.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"trydofor\\",\\"url\\":\\"https://www.trydofor.com\\"}]}"]]},"headers":[{"level":2,"title":"0C.1.Java开发","slug":"_0c-1-java开发","link":"#_0c-1-java开发","children":[]},{"level":2,"title":"0C.2.Kotlin开发","slug":"_0c-2-kotlin开发","link":"#_0c-2-kotlin开发","children":[]},{"level":2,"title":"0C.3.SQL工具","slug":"_0c-3-sql工具","link":"#_0c-3-sql工具","children":[]},{"level":2,"title":"0C.4.文本工具","slug":"_0c-4-文本工具","link":"#_0c-4-文本工具","children":[]},{"level":2,"title":"0C.5.Http测试","slug":"_0c-5-http测试","link":"#_0c-5-http测试","children":[]},{"level":2,"title":"0C.6.Wings测试","slug":"_0c-6-wings测试","link":"#_0c-6-wings测试","children":[]},{"level":2,"title":"0C.7.Git流程","slug":"_0c-7-git流程","link":"#_0c-7-git流程","children":[]}],"git":{"createdTime":1687077446000,"updatedTime":1706754674000,"contributors":[{"name":"trydofor","email":"trydofor@gmail.com","commits":5}]},"readingTime":{"minutes":3.98,"words":1193},"filePathRelative":"zh/0-wings/0c-dev-tool.md","localizedDate":"2023年6月18日","autoDesc":true}');export{R as comp,W as data};
