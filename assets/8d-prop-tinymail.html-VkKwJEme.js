import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{o as i,c as a,f as n}from"./app-bOcR57Nd.js";const r={},s=n(`<h1 id="_8d-tinymail-properties" tabindex="-1"><a class="header-anchor" href="#_8d-tinymail-properties" aria-hidden="true">#</a> 8D.TinyMail Properties</h1><h2 id="_8d-1-spring-mail-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-1-spring-mail-79-properties" aria-hidden="true">#</a> 8D.1.spring-mail-79.properties</h2><p>spring-boot-starter-mail config, divided into account type and property type.</p><h3 id="spring-mail-host" tabindex="-1"><a class="header-anchor" href="#spring-mail-host" aria-hidden="true">#</a> spring.mail.host</h3><p><code>String</code>, mail host, eg. smtp.qq.com</p><h3 id="spring-mail-username" tabindex="-1"><a class="header-anchor" href="#spring-mail-username" aria-hidden="true">#</a> spring.mail.username</h3><p><code>String</code>, mail username, usually the same as the sender, otherwise may get a sending error.</p><h3 id="spring-mail-password" tabindex="-1"><a class="header-anchor" href="#spring-mail-password" aria-hidden="true">#</a> spring.mail.password</h3><p><code>String</code>, mail password.</p><h3 id="spring-mail-protocol" tabindex="-1"><a class="header-anchor" href="#spring-mail-protocol" aria-hidden="true">#</a> spring.mail.protocol</h3><p><code>String</code>=<code>smtp</code>, mail protocol, default smtp.</p><h3 id="spring-mail-port" tabindex="-1"><a class="header-anchor" href="#spring-mail-port" aria-hidden="true">#</a> spring.mail.port</h3><p><code>int</code>=<code>465</code>, mail port.</p><h3 id="spring-mail-properties-mail-smtp-auth" tabindex="-1"><a class="header-anchor" href="#spring-mail-properties-mail-smtp-auth" aria-hidden="true">#</a> spring.mail.properties.mail.smtp.auth</h3><p><code>String</code>=<code>true|false</code>, whether to perform smtp authentication, most of it is true.</p><h3 id="spring-mail-properties-mail-smtp-starttls-enable" tabindex="-1"><a class="header-anchor" href="#spring-mail-properties-mail-smtp-starttls-enable" aria-hidden="true">#</a> spring.mail.properties.mail.smtp.starttls.enable</h3><p><code>String</code>=<code>true|false</code>, whether to use tls, most of it is true.</p><h3 id="spring-mail-properties-mail-smtp-ssl-enable" tabindex="-1"><a class="header-anchor" href="#spring-mail-properties-mail-smtp-ssl-enable" aria-hidden="true">#</a> spring.mail.properties.mail.smtp.ssl.enable</h3><p><code>String</code>=<code>true|false</code>, whether to use ssl, deps on email provider supports.</p><h3 id="spring-mail-properties-mail-smtp-connectiontimeout" tabindex="-1"><a class="header-anchor" href="#spring-mail-properties-mail-smtp-connectiontimeout" aria-hidden="true">#</a> spring.mail.properties.mail.smtp.connectiontimeout</h3><p><code>String</code>=<code>90000</code>, connection timeout in mills, default 90s.</p><h3 id="spring-mail-properties-mail-smtp-timeout" tabindex="-1"><a class="header-anchor" href="#spring-mail-properties-mail-smtp-timeout" aria-hidden="true">#</a> spring.mail.properties.mail.smtp.timeout</h3><p><code>String</code>=<code>90000</code>, read timeout in mills, default 90s.</p><h3 id="spring-mail-properties-mail-smtp-writetimeout" tabindex="-1"><a class="header-anchor" href="#spring-mail-properties-mail-smtp-writetimeout" aria-hidden="true">#</a> spring.mail.properties.mail.smtp.writetimeout</h3><p><code>String</code>=<code>90000</code>, write timeout in mills, default 90s.</p><h2 id="_8d-2-wings-enabled-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-2-wings-enabled-79-properties" aria-hidden="true">#</a> 8D.2.wings-enabled-79.properties</h2><h3 id="wings-enabled-tiny-mail-mvc-list" tabindex="-1"><a class="header-anchor" href="#wings-enabled-tiny-mail-mvc-list" aria-hidden="true">#</a> wings.enabled.tiny.mail.mvc-list</h3><p><code>Boolean</code>=<code>true</code>, whether to enable MailListController</p><h3 id="wings-enabled-tiny-mail-mvc-send" tabindex="-1"><a class="header-anchor" href="#wings-enabled-tiny-mail-mvc-send" aria-hidden="true">#</a> wings.enabled.tiny.mail.mvc-send</h3><p><code>Boolean</code>=<code>true</code>, whether to enable MailSendController</p><h2 id="_8d-3-wings-flywave-fit-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-3-wings-flywave-fit-79-properties" aria-hidden="true">#</a> 8D.3.wings-flywave-fit-79.properties</h2><h3 id="wings-faceless-flywave-fit-tiny-mail" tabindex="-1"><a class="header-anchor" href="#wings-faceless-flywave-fit-tiny-mail" aria-hidden="true">#</a> wings.faceless.flywave.fit.tiny-mail</h3><p>Database dependency, after import this lib, the script will be auto executed.</p><ul><li><code>path</code>=<code>classpath*:/wings-flywave/master/07-mail/*.sql</code></li><li><code>revi</code>=<code>2020_1027_01L</code></li><li><code>lost</code>=<code>EXEC</code></li></ul><h2 id="_8d-4-wings-tinymail-config-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-4-wings-tinymail-config-79-properties" aria-hidden="true">#</a> 8D.4.wings-tinymail-config-79.properties</h2><p>Config default account and multiple sending accounts, <code>TinyMailConfig</code> extends <code>spring.mail</code>. The default config name is <code>default</code>, which automatically reuses the value of <code>spring.mail</code> to provide a default config for other accounts.</p><p>The default config item is only used if others are invalid, and for <code>properties.*</code> values, only if the key exists.</p><h3 id="wings-tiny-mail-config-default-dryrun" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-dryrun" aria-hidden="true">#</a> wings.tiny.mail.config.default.dryrun</h3><p><code>String</code>=<code>[DRYRUN]</code>, dryrun prefix of subject. merge if null, <code>empty</code> means disable.</p><h3 id="wings-tiny-mail-config-default-from" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-from" aria-hidden="true">#</a> wings.tiny.mail.config.default.from</h3><p><code>String</code>=<code>\${MAIL_FROM:}</code>, default from, usually the sender.</p><h3 id="wings-tiny-mail-config-default-to" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-to" aria-hidden="true">#</a> wings.tiny.mail.config.default.to</h3><p><code>String[]</code>=<code>\${MAIL_TO:}</code>, default to, string arrays, comma separated.</p><h3 id="wings-tiny-mail-config-default-cc" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-cc" aria-hidden="true">#</a> wings.tiny.mail.config.default.cc</h3><p><code>String[]</code>, default cc, string arrays, comma separated.</p><h3 id="wings-tiny-mail-config-default-bcc" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-bcc" aria-hidden="true">#</a> wings.tiny.mail.config.default.bcc</h3><p><code>String[]</code>, default bcc, string arrays, comma separated.</p><h3 id="wings-tiny-mail-config-default-reply" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-reply" aria-hidden="true">#</a> wings.tiny.mail.config.default.reply</h3><p><code>String</code>, default reply.</p><h3 id="wings-tiny-mail-config-default-html" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-config-default-html" aria-hidden="true">#</a> wings.tiny.mail.config.default.html</h3><p><code>Boolean</code>=<code>true</code>, whether to send html email (text/html), otherwise plain text (text/plain).</p><h3 id="gmail-config-reference" tabindex="-1"><a class="header-anchor" href="#gmail-config-reference" aria-hidden="true">#</a> Gmail Config Reference</h3><p>Recommend to use app-specific password, not login password. Use Default values only If <code>properties.*</code> is empty, and the default value is not used if the key does not exist. If <code>properties.mail.debug</code> is commented out, the default value is not used.</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token key attr-name">wings.tiny.mail.config.gmail.host</span><span class="token punctuation">=</span><span class="token value attr-value">smtp.gmail.com</span>
<span class="token key attr-name">wings.tiny.mail.config.gmail.username</span><span class="token punctuation">=</span><span class="token value attr-value">\${GMAIL_USER:}</span>
<span class="token key attr-name">wings.tiny.mail.config.gmail.password</span><span class="token punctuation">=</span><span class="token value attr-value">\${GMAIL_PASS:}</span>
<span class="token key attr-name">wings.tiny.mail.config.gmail.protocol</span><span class="token punctuation">=</span>
<span class="token key attr-name">wings.tiny.mail.config.gmail.port</span><span class="token punctuation">=</span><span class="token value attr-value">587</span>
<span class="token key attr-name">wings.tiny.mail.config.gmail.properties.mail.smtp.auth</span><span class="token punctuation">=</span>
<span class="token key attr-name">wings.tiny.mail.config.gmail.properties.mail.smtp.starttls.enable</span><span class="token punctuation">=</span>
<span class="token comment">#wings.tiny.mail.config.gmail.properties.mail.debug=</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_8d-5-wings-tinymail-sender-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-5-wings-tinymail-sender-79-properties" aria-hidden="true">#</a> 8D.5.wings-tinymail-sender-79.properties</h2><h3 id="wings-tiny-mail-sender-dryrun" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-dryrun" aria-hidden="true">#</a> wings.tiny.mail.sender.dryrun</h3><p><code>Boolean</code>=<code>false</code>, whether to dry run, log only without actually send.</p><h3 id="wings-tiny-mail-sender-biz-id" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-biz-id" aria-hidden="true">#</a> wings.tiny.mail.sender.biz-id</h3><p><code>String</code>=<code>X-Biz-Id</code>, biz-id Header to locate mail by business, default mail id.</p><h3 id="wings-tiny-mail-sender-biz-mark" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-biz-mark" aria-hidden="true">#</a> wings.tiny.mail.sender.biz-mark</h3><p><code>String</code>=<code>X-Biz-Mark</code>, biz-mark Header to locate data by business, eg. orderNumber.</p><h3 id="wings-tiny-mail-sender-err-send" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-err-send" aria-hidden="true">#</a> wings.tiny.mail.sender.err-send</h3><p><code>Duration</code>=<code>5m</code>, how much time to wait if MailSendException, default 5 minutes.</p><h3 id="wings-tiny-mail-sender-err-auth" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-err-auth" aria-hidden="true">#</a> wings.tiny.mail.sender.err-auth</h3><p><code>Duration</code>=<code>1h</code>, how much time to wait if MailAuthenticationException, default 1 hour.</p><h3 id="wings-tiny-mail-sender-err-host" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-err-host" aria-hidden="true">#</a> wings.tiny.mail.sender.err-host</h3><p><code>Map&lt;BigDecimal, String&gt;</code>, how many seconds to wait for the host if it contains the following exception message. seconds is the key, the fraction is only used to make key unique, negative number means stop resending.</p><ul><li><code>3600.001</code>=<code>frequency limited</code></li></ul><h3 id="wings-tiny-mail-sender-err-mail" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-err-mail" aria-hidden="true">#</a> wings.tiny.mail.sender.err-mail</h3><p><code>Map&lt;BigDecimal, String&gt;</code>, how many seconds to wait to resend this email if it contains the following exception message. seconds is the key, the fraction is only used to make key unique, negative number means stop resending.</p><ul><li><code>-501001.001</code>=<code>from address must be same as authorization user</code></li></ul><p><code>501</code> is error number, <code>001</code> is host number, <code>.001</code> is the unique bit.</p><h3 id="wings-tiny-mail-sender-per-idle" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-per-idle" aria-hidden="true">#</a> wings.tiny.mail.sender.per-idle</h3><p><code>Map&lt;String, Duration&gt;</code>, interval of each login of the same mailhost, avoid limit frequency, 0 is ignored.</p><p><code>smtp.qq.com</code>=<code>500ms</code>, eg. qq mail, wait 500ms.</p><h3 id="wings-tiny-mail-sender-max-idle" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-max-idle" aria-hidden="true">#</a> wings.tiny.mail.sender.max-idle</h3><p><code>Map&lt;String, Duration&gt;</code>, max wait time for the same mailhost, if less then wait, otherwise throw MailWaitException, 0 is ignored.</p><ul><li><code>smtp.qq.com</code>=<code>5s</code>, eg. qq mail, MailWaitException is thrown when waiting for more than 5 seconds.</li></ul><h3 id="wings-tiny-mail-sender-force-to" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-force-to" aria-hidden="true">#</a> wings.tiny.mail.sender.force-to</h3><p><code>String[]</code>, force to replace the real &quot;to&quot;, string arrays, comma separated.</p><h3 id="wings-tiny-mail-sender-force-cc" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-force-cc" aria-hidden="true">#</a> wings.tiny.mail.sender.force-cc</h3><p><code>String[]</code>, force to replace the real &quot;cc&quot;, string arrays, comma separated.</p><h3 id="wings-tiny-mail-sender-force-bcc" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-force-bcc" aria-hidden="true">#</a> wings.tiny.mail.sender.force-bcc</h3><p><code>String[]</code>, force to replace the real &quot;bcc&quot;, string arrays, comma separated.</p><h3 id="wings-tiny-mail-sender-force-prefix" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-sender-force-prefix" aria-hidden="true">#</a> wings.tiny.mail.sender.force-prefix</h3><p><code>String</code>, force to add prefix to the real subject.</p><h2 id="_8d-6-wings-tinymail-service-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-6-wings-tinymail-service-79-properties" aria-hidden="true">#</a> 8D.6.wings-tinymail-service-79.properties</h2><h3 id="wings-tiny-mail-service-max-fail" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-max-fail" aria-hidden="true">#</a> wings.tiny.mail.service.max-fail</h3><p><code>Integer</code>=<code>3</code>, max failures for the same email.</p><p>wings.tiny.mail.service.max-done</p><p><code>Integer</code>=<code>1</code>, max success for the same email.</p><h3 id="wings-tiny-mail-service-max-next" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-max-next" aria-hidden="true">#</a> wings.tiny.mail.service.max-next</h3><p><code>Duration</code>=<code>1d</code>, the email does not need to be sent anymore as it has been a certain amount of time. default 1 day.</p><h3 id="wings-tiny-mail-service-try-next" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-try-next" aria-hidden="true">#</a> wings.tiny.mail.service.try-next</h3><p><code>Duration</code>=<code>1m</code>, how soon to retry after failure, default 1 minute.</p><h3 id="wings-tiny-mail-service-batch-size" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-batch-size" aria-hidden="true">#</a> wings.tiny.mail.service.batch-size</h3><p><code>Integer</code>=<code>10</code>, max number of bulk emails sent at one time.</p><h3 id="wings-tiny-mail-service-warn-size" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-warn-size" aria-hidden="true">#</a> wings.tiny.mail.service.warn-size</h3><p><code>Integer</code>=<code>50</code>, if this capacity is exceeded, log it as Warn.</p><h3 id="wings-tiny-mail-service-boot-scan" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-boot-scan" aria-hidden="true">#</a> wings.tiny.mail.service.boot-scan</h3><p><code>Duration</code>=<code>60s</code>, how long after start, scan for unsent mail, <code>0</code> for no scan.</p><h3 id="wings-tiny-mail-service-only-app" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-only-app" aria-hidden="true">#</a> wings.tiny.mail.service.only-app</h3><p><code>Boolean</code>=<code>false</code>, whether to send emails from this app only.</p><h3 id="wings-tiny-mail-service-only-run" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-service-only-run" aria-hidden="true">#</a> wings.tiny.mail.service.only-run</h3><p><code>Boolean</code>=<code>true</code>, whether to send emails from this RumMode only.</p><h2 id="_8d-7-wings-tinymail-urlmap-79-properties" tabindex="-1"><a class="header-anchor" href="#_8d-7-wings-tinymail-urlmap-79-properties" aria-hidden="true">#</a> 8D.7.wings-tinymail-urlmap-79.properties</h2><h3 id="wings-tiny-mail-urlmap-list-all" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-list-all" aria-hidden="true">#</a> wings.tiny.mail.urlmap.list-all</h3><p><code>String</code>=<code>/admin/mail/list-all.json</code>, list summary of all messages, in reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-list-failed" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-list-failed" aria-hidden="true">#</a> wings.tiny.mail.urlmap.list-failed</h3><p><code>String</code>=<code>/admin/mail/list-failed.json</code>, list summary of failed emails, in reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-list-undone" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-list-undone" aria-hidden="true">#</a> wings.tiny.mail.urlmap.list-undone</h3><p><code>String</code>=<code>/admin/mail/list-undone.json</code>, list summary of unsuccessful emails, in reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-by-bizmark" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-by-bizmark" aria-hidden="true">#</a> wings.tiny.mail.urlmap.by-bizmark</h3><p><code>String</code>=<code>/admin/mail/by-bizmark.json</code>, find summary of the email by Biz-Mark, in reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-by-recipient" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-by-recipient" aria-hidden="true">#</a> wings.tiny.mail.urlmap.by-recipient</h3><p><code>String</code>=<code>/admin/mail/by-recipient.json</code>, find summary of the email by RegExp of to/cc/bcc, reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-by-sender" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-by-sender" aria-hidden="true">#</a> wings.tiny.mail.urlmap.by-sender</h3><p><code>String</code>=<code>/admin/mail/by-sender.json</code>, find summary of the email by from, in reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-by-subject" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-by-subject" aria-hidden="true">#</a> wings.tiny.mail.urlmap.by-subject</h3><p><code>String</code>=<code>/admin/mail/by-subject.json</code>, find summary of the email by RegExp of subject, reverse order by default.</p><h3 id="wings-tiny-mail-urlmap-load-detail" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-load-detail" aria-hidden="true">#</a> wings.tiny.mail.urlmap.load-detail</h3><p><code>String</code>=<code>/admin/mail/load-detail.json</code>, get mail detail.</p><h3 id="wings-tiny-mail-urlmap-send-mail" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-send-mail" aria-hidden="true">#</a> wings.tiny.mail.urlmap.send-mail</h3><p><code>String</code>=<code>/admin/mail/send-mail.json</code>, create or save an email, and send it immediately or asynchronously, <code>-1</code> is failure, <code>0</code> is sync, otherwise it is async.</p><h3 id="wings-tiny-mail-urlmap-send-save" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-send-save" aria-hidden="true">#</a> wings.tiny.mail.urlmap.send-save</h3><p><code>String</code>=<code>/admin/mail/send-save.json</code>, only save messages, but do not send them.</p><h3 id="wings-tiny-mail-urlmap-send-retry" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-send-retry" aria-hidden="true">#</a> wings.tiny.mail.urlmap.send-retry</h3><p><code>String</code>=<code>/admin/mail/send-retry.json</code>, sync retry failed emails, send success or failure, or exceptions</p><h3 id="wings-tiny-mail-urlmap-send-scan" tabindex="-1"><a class="header-anchor" href="#wings-tiny-mail-urlmap-send-scan" aria-hidden="true">#</a> wings.tiny.mail.urlmap.send-scan</h3><p><code>String</code>=<code>/admin/mail/send-scan.json</code>, sync scan the emails that need to resend, and send them async, return the number of resend emails.</p>`,130),t=[s];function d(o,l){return i(),a("div",null,t)}const h=e(r,[["render",d],["__file","8d-prop-tinymail.html.vue"]]);export{h as default};
